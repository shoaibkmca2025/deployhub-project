import{r as t,b as Le,c as Ae}from"./vendor-97cK7ltV.js";import{u as ne,L as V,a as Ie,c as Oe,R as Me}from"./router-CbtUVPpw.js";import{l as re}from"./socket-TjCxX7sJ.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))x(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&x(p)}).observe(document,{childList:!0,subtree:!0});function o(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerPolicy&&(d.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?d.credentials="include":n.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function x(n){if(n.ep)return;n.ep=!0;const d=o(n);fetch(n.href,d)}})();var Ne={exports:{}},oe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He=t,Te=Symbol.for("react.element"),Be=Symbol.for("react.fragment"),ze=Object.prototype.hasOwnProperty,Ue=He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ve={key:!0,ref:!0,__self:!0,__source:!0};function we(l,a,o){var x,n={},d=null,p=null;o!==void 0&&(d=""+o),a.key!==void 0&&(d=""+a.key),a.ref!==void 0&&(p=a.ref);for(x in a)ze.call(a,x)&&!Ve.hasOwnProperty(x)&&(n[x]=a[x]);if(l&&l.defaultProps)for(x in a=l.defaultProps,a)n[x]===void 0&&(n[x]=a[x]);return{$$typeof:Te,type:l,key:d,ref:p,props:n,_owner:Ue.current}}oe.Fragment=Be;oe.jsx=we;oe.jsxs=we;Ne.exports=oe;var e=Ne.exports,ke,fe=Le;ke=fe.createRoot,fe.hydrateRoot;const Fe=()=>{const l=ne(),[a,o]=t.useState(!1);t.useEffect(()=>{o(!0)},[]);const x=()=>{l("/signup")},n=()=>{l("/about")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 text-white overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),e.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"})]}),e.jsx("nav",{className:"relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"DH"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsxs("div",{className:"hidden md:flex space-x-8",children:[e.jsx("a",{href:"#features",className:"hover:text-blue-400 transition-colors",children:"Features"}),e.jsx("a",{href:"#pricing",className:"hover:text-blue-400 transition-colors",children:"Pricing"}),e.jsx("a",{href:"#about",className:"hover:text-blue-400 transition-colors",children:"About"})]})]})}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:e.jsx("div",{className:`transition-all duration-1000 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent leading-tight",children:"DeployHub"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"The ultimate CI/CD platform for modern developers. Deploy, monitor, and scale your applications with ease."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsx("button",{onClick:x,className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Get Started Free"}),e.jsx("button",{onClick:n,className:"px-8 py-4 border-2 border-white/30 hover:border-white/60 text-white font-semibold rounded-full transition-all duration-300 hover:bg-white/10",children:"Learn More"})]})]})})}),e.jsxs("div",{id:"features",className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Powerful Features"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Everything you need to build, deploy, and manage your applications"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Lightning Fast Deploys"}),e.jsx("p",{className:"text-gray-300",children:"Deploy your applications in seconds with our optimized infrastructure and smart caching."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Zero Downtime"}),e.jsx("p",{className:"text-gray-300",children:"Deploy with confidence knowing your users won't experience any service interruption."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-teal-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Real-time Monitoring"}),e.jsx("p",{className:"text-gray-300",children:"Monitor your applications with detailed metrics, logs, and alerts in real-time."})]})]})]}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-lg rounded-3xl p-12 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Ready to Deploy?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of developers who trust DeployHub for their CI/CD needs. Start your free trial today."}),e.jsx("button",{onClick:x,className:"px-12 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold text-xl rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Start Free Trial"})]})}),e.jsx("footer",{className:"relative z-10 border-t border-white/10 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"© 2024 DeployHub. All rights reserved."}),e.jsxs("div",{className:"flex justify-center space-x-6",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Support"})]})]})})]})},Ge=()=>{const l=ne(),a=()=>{l("/signup")},o=()=>{l("/")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 text-white",children:[e.jsx("nav",{className:"p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"DH"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsx("button",{onClick:a,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-full transition-all duration-300 transform hover:scale-105",children:"Get Started"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-20",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"About DeployHub"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed",children:"Revolutionizing the way developers deploy and manage their applications"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-gray-300 mb-6 leading-relaxed",children:"We believe that deploying applications should be simple, fast, and reliable. DeployHub was born from the frustration of complex CI/CD pipelines and the need for a developer-friendly deployment platform."}),e.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Our mission is to empower developers with tools that just work, allowing them to focus on what they do best - building amazing applications."})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"10K+"}),e.jsx("div",{className:"text-gray-300",children:"Active Users"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"50M+"}),e.jsx("div",{className:"text-gray-300",children:"Deployments"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-pink-400 mb-2",children:"99.9%"}),e.jsx("div",{className:"text-gray-300",children:"Uptime"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"24/7"}),e.jsx("div",{className:"text-gray-300",children:"Support"})]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 order-2 lg:order-1",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 text-blue-400",children:"Why Choose DeployHub?"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Zero-configuration deployment"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Real-time monitoring and alerts"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Automatic scaling and load balancing"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Enterprise-grade security"})]})]})]}),e.jsxs("div",{className:"order-1 lg:order-2",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Built for Developers"}),e.jsx("p",{className:"text-lg text-gray-300 mb-6 leading-relaxed",children:"DeployHub is designed by developers, for developers. We understand the pain points of modern deployment workflows and have built a platform that eliminates complexity while providing enterprise-grade features."}),e.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"From solo developers to large teams, DeployHub scales with your needs and grows with your ambitions."})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-lg rounded-3xl p-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join the future of application deployment. Start your free trial today and experience the difference."}),e.jsx("button",{onClick:a,className:"px-12 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold text-xl rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Start Free Trial"})]})})]})]})},he={},S=(he==null?void 0:he.VITE_SERVER_ORIGIN)||(location.hostname==="localhost"||location.hostname==="127.0.0.1"?"http://localhost:4000":`${location.protocol}//${location.hostname}:4000`);function ie(){const l=localStorage.getItem("token");return l?{Authorization:`Bearer ${l}`}:{}}async function pe(l){try{const a=await fetch(`${S}${l}`,{headers:{"Content-Type":"application/json",...ie()}});if(!a.ok){const o=await a.text();let x=o;try{const n=JSON.parse(o);x=n.error||n.message||o}catch{}throw new Error(x)}return a.json()}catch(a){throw a instanceof TypeError&&a.message.includes("Failed to fetch")?new Error("Cannot connect to server. Please check if the server is running on "+S):a}}async function I(l,a){try{const o=await fetch(`${S}${l}`,{method:"POST",headers:{"Content-Type":"application/json",...ie()},body:a?JSON.stringify(a):void 0});if(!o.ok){const x=await o.text();let n=x;try{const d=JSON.parse(x);n=d.error||d.message||x}catch{}throw new Error(n)}return o.json()}catch(o){throw o instanceof TypeError&&o.message.includes("Failed to fetch")?new Error("Cannot connect to server. Please check if the server is running on "+S):o}}async function We(l,a){const o=await fetch(`${S}${l}`,{method:"PUT",headers:{"Content-Type":"application/json",...ie()},body:a?JSON.stringify(a):void 0});if(!o.ok)throw new Error(await o.text());return o.json()}async function ge(l){const a=await fetch(`${S}${l}`,{method:"DELETE",headers:{"Content-Type":"application/json",...ie()}});if(!a.ok)throw new Error(await a.text());return a.json()}async function ye(){try{const l=await fetch(`${S}/api/status`,{method:"GET",headers:{"Content-Type":"application/json"}});return{success:l.ok,status:l.status,statusText:l.statusText,serverOrigin:S}}catch(l){return{success:!1,error:l instanceof Error?l.message:"Unknown error",serverOrigin:S}}}const ue={};function Je({onAuthed:l}){const[a,o]=t.useState(""),[x,n]=t.useState(""),[d,p]=t.useState("signup"),[v,u]=t.useState(""),[N,w]=t.useState(!1),[C,m]=t.useState(0),[h,k]=t.useState("checking");t.useEffect(()=>{(async()=>{const E=await ye();k(E.success?"connected":"disconnected")})();const A=localStorage.getItem("token");if(A){const E=(ue==null?void 0:ue.VITE_SERVER_ORIGIN)||(location.hostname==="localhost"||location.hostname==="127.0.0.1"?"http://localhost:4000":`${location.protocol}//${location.hostname}:4000`);fetch(`${E}/api/deployments`,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}}).then(L=>{L.ok?l():(localStorage.removeItem("token"),localStorage.removeItem("user"))}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user")})}},[l]),t.useEffect(()=>{if(x.length===0){m(0);return}let b=0;x.length>=6&&(b+=1),x.length>=8&&(b+=1),/[A-Z]/.test(x)&&(b+=1),/[a-z]/.test(x)&&(b+=1),/[0-9]/.test(x)&&(b+=1),/[^A-Za-z0-9]/.test(x)&&(b+=1),m(b)},[x]);async function i(){try{if(u(""),w(!0),!a||!x){u("Please fill in all fields");return}if(d==="signup"&&x.length<6){u("Password must be at least 6 characters long");return}const b=await ye();if(!b.success){u(`Cannot connect to server at ${b.serverOrigin}. Please check if the backend server is running.`);return}const A=await I(d==="signup"?"/api/signup":"/api/login",{email:a,password:x});localStorage.setItem("token",A.token),localStorage.setItem("user",JSON.stringify(A.user)),l()}catch(b){console.error("Authentication error:",b),u(b.message||"Authentication failed")}finally{w(!1)}}function D(b){b.key==="Enter"&&i()}const c=()=>C<=2?"text-red-400":C<=4?"text-yellow-400":"text-green-400",y=()=>C<=2?"Weak":C<=4?"Medium":"Strong";return e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 border border-cyan-400/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-slate-900 font-bold text-2xl",children:"DH"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"DeployHub"}),e.jsx("p",{className:"text-gray-400",children:"Deploy applications on your own hardware"}),e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h==="connected"?"bg-green-400":h==="checking"?"bg-yellow-400 animate-pulse":"bg-red-400"}`}),e.jsx("span",{className:`text-sm ${h==="connected"?"text-green-400":h==="checking"?"text-yellow-400":"text-red-400"}`,children:h==="connected"?"Connected to server":h==="checking"?"Checking connection...":"Server offline"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:a,onChange:b=>o(b.target.value),onKeyPress:D,className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none text-white placeholder-gray-400",disabled:N})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Enter your password",value:x,onChange:b=>n(b.target.value),onKeyPress:D,className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none text-white placeholder-gray-400",disabled:N}),d==="signup"&&x&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Password strength:"}),e.jsx("span",{className:c(),children:y()})]}),e.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${C<=2?"bg-red-400":C<=4?"bg-yellow-400":"bg-green-400"}`,style:{width:`${C/6*100}%`}})})]})]}),v&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:v})}),e.jsx("button",{onClick:i,disabled:N||!a||!x,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Please wait...":d==="signup"?"Create Account":"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>p(d==="signup"?"login":"signup"),className:"text-cyan-400 hover:text-cyan-300 text-sm transition-colors",disabled:N,children:d==="signup"?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})})}function _e({open:l,initialEnv:a,onClose:o,onSave:x}){const[n,d]=t.useState([]),[p,v]=t.useState(!1);if(t.useEffect(()=>{const m=Object.entries(a||{}).map(([h,k])=>({key:h,value:k}));d(m.length?m:[{key:"",value:""}])},[a,l]),!l)return null;function u(m,h,k){d(i=>i.map((D,c)=>c===m?{...D,[h]:k}:D))}function N(){d(m=>[...m,{key:"",value:""}])}function w(m){d(h=>h.filter((k,i)=>i!==m))}async function C(){v(!0);const m={};n.forEach(({key:h,value:k})=>{h&&(m[h]=k)}),await x(m),v(!1),o()}return e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{className:"card",style:{width:520,maxWidth:"90vw",background:"#0f1430"},children:[e.jsx("h3",{style:{marginTop:0},children:"Environment Variables"}),e.jsxs("div",{style:{display:"grid",gap:8},children:[n.map((m,h)=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:8},children:[e.jsx("input",{placeholder:"KEY",value:m.key,onChange:k=>u(h,"key",k.target.value)}),e.jsx("input",{placeholder:"value",value:m.value,onChange:k=>u(h,"value",k.target.value)}),e.jsx("button",{onClick:()=>w(h),children:"Remove"})]},h)),e.jsx("div",{children:e.jsx("button",{onClick:N,children:"Add variable"})}),e.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[e.jsx("button",{onClick:o,children:"Cancel"}),e.jsx("button",{className:"cta",onClick:C,disabled:p,children:p?"Saving...":"Save"})]})]})]})})}function je(){var be;ne();const[l,a]=t.useState([]),[o,x]=t.useState([]),[n,d]=t.useState(null),[p,v]=t.useState([]),[u,N]=t.useState(!!localStorage.getItem("token")),[w,C]=t.useState(null),[m,h]=t.useState("connecting"),[k,i]=t.useState(!1),[D,c]=t.useState(""),[y,b]=t.useState("overview"),[A,E]=t.useState(!1),[L,Y]=t.useState(""),[W,F]=t.useState("main"),[Z,J]=t.useState(""),[T,_]=t.useState(""),[z,Q]=t.useState([]),[q,K]=t.useState({}),[M,G]=t.useState(null),[ce,X]=t.useState(!1),[U,de]=t.useState(null),r=t.useRef(null);t.useEffect(()=>{const s=localStorage.getItem("user");s&&C(JSON.parse(s)),(async()=>{try{(await fetch(`${S}/api/status`)).ok?(h("connected"),c("")):(h("disconnected"),c("Server is not responding properly"))}catch{h("disconnected"),c("Cannot connect to server. Please check if the server is running.")}})();const f=re(S,{transports:["websocket","polling"],query:{kind:"dashboard"},reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3});return r.current=f,f.on("connect",()=>{h("connected"),c("")}),f.on("disconnect",()=>{h("disconnected")}),f.on("connect_error",P=>{h("disconnected"),c("WebSocket connection failed. Please check if the server is running.")}),f.on("dashboard:agents",P=>{a(P),c("")}),f.on("dashboard:deployment-log",({deploymentId:P,line:B})=>{v(O=>n===P?[...O,B]:O)}),f.on("dashboard:deployment-status",({deploymentId:P,status:B})=>{n===P&&v(O=>[...O,`[${new Date().toISOString()}] [dashboard] Status: ${B}`]),u&&$()}),()=>{f.disconnect()}},[n,u]);const j=t.useMemo(()=>l.filter(s=>s.status==="online"),[l]),R=t.useMemo(()=>o.filter(s=>s.status==="running"||s.status==="succeeded"),[o]),H=t.useMemo(()=>{const s=o.length,g=o.filter(f=>f.status==="succeeded").length;return s>0?Math.round(g/s*100):0},[o]);async function $(){if(u)try{const s=await pe("/api/deployments");x(s.deployments)}catch(s){s.message.includes("unauthorized")||s.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),N(!1),c("Session expired. Please log in again.")):c("Failed to load deployments")}}async function xe(){if(!L||z.length===0){c("Please select at least one agent and provide a repository URL");return}if(!/^https?:\/\/github\.com\/[^\/]+\/[^\/]+(\.git)?$/.test(L)){c("Please enter a valid GitHub repository URL (e.g., https://github.com/username/repo)");return}try{i(!0),c(""),await Promise.all(z.map(g=>I("/api/deploy",{agentId:g,repoUrl:L,branch:W,buildCommand:Z||void 0,startCommand:T||void 0,env:q}))),E(!1),Y(""),F("main"),J(""),_(""),Q([]),K({}),G(null),await $()}catch(g){c(g.message||"Failed to create deployment")}finally{i(!1)}}async function me(s,g){try{i(!0),await I(`/api/deployments/${s}/action`,{action:g}),await $()}catch(f){f.message.includes("unauthorized")||f.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),N(!1),c("Session expired. Please log in again.")):c(`Failed to ${g} deployment: ${f.message}`)}finally{i(!1)}}async function Se(s){try{i(!0),await ge(`/api/deployments/${s}`),n===s&&d(null),await $()}catch(g){g.message.includes("unauthorized")||g.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),N(!1),c("Session expired. Please log in again.")):c(`Failed to delete deployment: ${g.message}`)}finally{i(!1)}}function Ce(s){de(s),X(!0)}async function De(s){U&&(await We(`/api/deployments/${U.id}/env`,{env:s}),await $())}async function Re(){if(!L){c("Please enter a GitHub repository URL first");return}try{const s=await I("/api/ai/suggest",{repoUrl:L});G(s.suggestion),s.suggestion.buildCommand&&J(s.suggestion.buildCommand),s.suggestion.startCommand&&_(s.suggestion.startCommand)}catch(s){G({error:s.message||"Failed to fetch suggestion"})}}function Ee(){const s=prompt("Environment variable name:"),g=prompt("Environment variable value:");s&&g&&K(f=>({...f,[s]:g}))}function $e(s){K(g=>{const f={...g};return delete f[s],f})}function Pe(s){const g=s.join(`
`).toLowerCase(),f=[];return g.includes("eaddrinuse")&&f.push("Port in use: try changing port or stop previous process."),(g.includes("command not found")||g.includes("npm: not found"))&&f.push("Missing runtime: ensure Node.js/npm installed on agent."),g.includes("permission denied")&&f.push("Permission issue: check file permissions or run without sudo-sensitive steps."),g.includes("fatal: could not read from remote repository")&&f.push("Git auth required: use public repo or provide read access."),f.length===0&&f.push("No obvious errors detected."),f}return t.useEffect(()=>{localStorage.getItem("token")&&fetch(`${S}/api/status`).then(g=>{g.ok||(localStorage.removeItem("token"),localStorage.removeItem("user"),N(!1))}).catch(()=>{})},[]),u?e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>b("overview"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${y==="overview"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Overview"}),e.jsx("button",{onClick:()=>b("deployments"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${y==="deployments"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Deployments"}),e.jsx("button",{onClick:()=>b("hardware"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${y==="hardware"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Hardware"}),e.jsx("button",{onClick:()=>b("logs"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${y==="logs"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Logs"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${m==="connected"?"bg-green-400":m==="connecting"?"bg-yellow-400":"bg-red-400"}`}),e.jsx("span",{className:"text-sm text-gray-400",children:m==="connected"?"Connected":m==="connecting"?"Connecting...":"Disconnected"})]}),w&&e.jsxs("div",{className:"text-sm text-gray-400",children:["Welcome, ",w.email]}),e.jsx("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),N(!1),c("")},className:"px-3 py-1 text-sm border border-gray-600 rounded hover:border-gray-400",children:"Logout"})]})]})})}),D&&e.jsx("div",{className:"fixed top-20 left-4 right-4 z-40 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-red-400",children:D}),e.jsx("button",{onClick:()=>c(""),className:"text-red-400 hover:text-red-300",children:"✕"})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 flex items-center space-x-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),e.jsx("span",{className:"text-white",children:"Processing..."})]})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[y==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"DeployHub Dashboard"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Deploy applications on your own hardware"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsx(se,{label:"Active Deployments",value:String(R.length),color:"text-cyan-400"}),e.jsx(se,{label:"Connected Devices",value:String(j.length),color:"text-amber-400"}),e.jsx(se,{label:"Success Rate",value:`${H}%`,color:"text-green-400"}),e.jsx(se,{label:"Total Builds",value:String(o.length),color:"text-purple-400"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>E(!0),className:"w-full px-6 py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"New Deployment"}),e.jsx("button",{onClick:()=>b("hardware"),className:"w-full px-6 py-3 border border-amber-400 text-amber-400 rounded-lg hover:bg-amber-400 hover:text-slate-900 transition-all",children:"Manage Hardware"}),e.jsx("button",{onClick:()=>b("deployments"),className:"w-full px-6 py-3 border border-green-400 text-green-400 rounded-lg hover:bg-green-400 hover:text-slate-900 transition-all",children:"View Deployments"})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Server Status"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m==="connected"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:m})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Online Agents"}),e.jsx("span",{className:"text-cyan-400",children:j.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Running Deployments"}),e.jsx("span",{className:"text-green-400",children:R.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Server URL"}),e.jsx("span",{className:"text-xs text-gray-400",children:S})]})]})]})]})]}),y==="deployments"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Deployments"}),e.jsx("button",{onClick:()=>E(!0),className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"New Deployment"})]}),e.jsxs("div",{className:"space-y-4",children:[o.map(s=>e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.repoUrl}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Branch: ",s.branch||"main"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="succeeded"||s.status==="running"?"bg-green-500/20 text-green-400":s.status==="building"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:s.status}),e.jsx("button",{onClick:()=>d(s.id),className:"px-3 py-1 text-xs border border-cyan-400 text-cyan-400 rounded hover:bg-cyan-400 hover:text-slate-900",children:"View Logs"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>me(s.id,"start"),className:"px-3 py-1 text-xs border border-green-400 text-green-400 rounded hover:bg-green-400 hover:text-slate-900",children:"Start"}),e.jsx("button",{onClick:()=>me(s.id,"stop"),className:"px-3 py-1 text-xs border border-red-400 text-red-400 rounded hover:bg-red-400 hover:text-slate-900",children:"Stop"}),e.jsx("button",{onClick:()=>me(s.id,"restart"),className:"px-3 py-1 text-xs border border-amber-400 text-amber-400 rounded hover:bg-amber-400 hover:text-slate-900",children:"Restart"}),e.jsx("button",{onClick:()=>Ce(s),className:"px-3 py-1 text-xs border border-purple-400 text-purple-400 rounded hover:bg-purple-400 hover:text-slate-900",children:"Environment"}),e.jsx("button",{onClick:()=>Se(s.id),className:"px-3 py-1 text-xs border border-red-600 text-red-400 rounded hover:bg-red-600 hover:text-white",children:"Delete"})]})]},s.id)),o.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx("p",{className:"text-lg mb-4",children:"No deployments yet"}),e.jsx("button",{onClick:()=>E(!0),className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"Create Your First Deployment"})]})]})]}),y==="hardware"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Hardware Status"}),e.jsx("button",{onClick:()=>$(),className:"px-4 py-2 text-cyan-400 hover:text-cyan-300 border border-cyan-400 rounded-lg",children:"Refresh"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.map(s=>{var g,f,P,B,O,ee;return e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[((g=s.specs)==null?void 0:g.cpuCount)||0," CPU cores, ",((P=(f=s.specs)==null?void 0:f.memory)==null?void 0:P.totalMb)||0,"MB RAM"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="online"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:s.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Status"}),e.jsx("span",{className:s.status==="online"?"text-green-400":"text-red-400",children:s.status==="online"?"Online":"Offline"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"CPU Cores"}),e.jsx("span",{className:"text-cyan-400",children:((B=s.specs)==null?void 0:B.cpuCount)||0})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Memory"}),e.jsxs("span",{className:"text-amber-400",children:[((ee=(O=s.specs)==null?void 0:O.memory)==null?void 0:ee.totalMb)||0,"MB"]})]}),s.lastSeen&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Last Seen"}),e.jsx("span",{className:"text-gray-400",children:new Date(s.lastSeen).toLocaleTimeString()})]})]})]},s.id)}),l.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[e.jsx("p",{className:"text-lg mb-4",children:"No agents connected"}),e.jsx("p",{className:"text-sm",children:"Install the DeployHub agent on your devices to get started"})]})]})]}),y==="logs"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Deployment Logs"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("select",{value:n||"",onChange:s=>d(s.target.value||null),className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select a deployment"}),o.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("button",{onClick:()=>v([]),className:"px-4 py-2 text-red-400 hover:text-red-300 border border-red-400 rounded-lg",children:"Clear Logs"})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Live Logs"}),n?e.jsxs("p",{className:"text-sm text-gray-400",children:["Showing logs for: ",(be=o.find(s=>s.id===n))==null?void 0:be.name]}):e.jsx("p",{className:"text-sm text-gray-400",children:"Select a deployment to view its logs"})]}),e.jsx("div",{className:"bg-slate-800 rounded-lg p-4 h-96 overflow-y-auto",children:e.jsx("pre",{className:"text-green-400 text-sm font-mono",children:p.length>0?p.join(`
`):"No logs available"})}),p.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-slate-800 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"AI Hints"}),e.jsx("ul",{className:"text-sm space-y-1",children:Pe(p).map((s,g)=>e.jsxs("li",{className:"text-gray-300",children:["• ",s]},g))})]})]})]})]})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Deployment"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Repository Configuration"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub Repository URL"}),e.jsx("input",{type:"text",value:L,onChange:s=>Y(s.target.value),placeholder:"https://github.com/username/repository",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Branch"}),e.jsx("input",{type:"text",value:W,onChange:s=>F(s.target.value),placeholder:"main",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsx("button",{onClick:Re,className:"px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30",children:"AI Suggest Configuration"}),M&&e.jsxs("div",{className:"p-4 bg-slate-800 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"AI Suggestion"}),"error"in M?e.jsx("div",{className:"text-red-400 text-sm",children:M.error}):e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:["Runtime: ",e.jsx("span",{className:"text-cyan-400",children:M.runtime})]}),e.jsxs("div",{children:["Port: ",e.jsx("span",{className:"text-amber-400",children:M.port})]}),e.jsxs("div",{className:"col-span-2",children:["Build: ",e.jsx("code",{className:"text-xs text-gray-300",children:M.buildCommand||"n/a"})]}),e.jsxs("div",{className:"col-span-2",children:["Start: ",e.jsx("code",{className:"text-xs text-gray-300",children:M.startCommand})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Build Configuration"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Build Command"}),e.jsx("input",{type:"text",value:Z,onChange:s=>J(s.target.value),placeholder:"npm install && npm run build",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Command"}),e.jsx("input",{type:"text",value:T,onChange:s=>_(s.target.value),placeholder:"npm start",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Target Devices"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[j.map(s=>{var g,f,P;return e.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg border border-slate-600 hover:border-cyan-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:z.includes(s.id),onChange:B=>{Q(O=>B.target.checked?[...O,s.id]:O.filter(ee=>ee!==s.id))},className:"text-cyan-400 focus:ring-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((g=s.specs)==null?void 0:g.cpuCount)||0," CPU, ",((P=(f=s.specs)==null?void 0:f.memory)==null?void 0:P.totalMb)||0,"MB"]})]})]},s.id)}),j.length===0&&e.jsx("div",{className:"col-span-full text-center py-8 text-gray-400",children:"No agents online. Please connect some devices first."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Environment Variables"}),e.jsx("button",{onClick:Ee,className:"px-3 py-1 text-sm border border-cyan-400 text-cyan-400 rounded-lg hover:bg-cyan-400 hover:text-slate-900",children:"Add Variable"})]}),e.jsxs("div",{className:"space-y-2",children:[Object.entries(q).map(([s,g])=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-gray-400"}),e.jsx("input",{type:"text",value:g,readOnly:!0,className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-gray-400"}),e.jsx("button",{onClick:()=>$e(s),className:"px-3 py-2 text-red-400 hover:text-red-300",children:"✕"})]},s)),Object.keys(q).length===0&&e.jsx("p",{className:"text-gray-400 text-sm",children:"No environment variables added"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-600",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:xe,disabled:!L||z.length===0,className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Deployment"})]})]})]})})}),e.jsx(_e,{open:ce,initialEnv:(U==null?void 0:U.env)||{},onClose:()=>X(!1),onSave:De})]}):e.jsx(Je,{onAuthed:()=>{N(!0),$()}})}function se({label:l,value:a,color:o}){return e.jsxs("div",{className:"metric-card p-6 rounded-xl border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:l}),e.jsx("span",{className:"text-lg",children:"●"})]}),e.jsx("div",{className:`text-3xl font-bold ${o}`,children:a})]})}function ve(){const[l,a]=t.useState("user@example.com"),[o,x]=t.useState("password"),[n,d]=t.useState(""),p=ne();async function v(){try{d("");const u=await I("/api/signup",{email:l,password:o});localStorage.setItem("token",u.token),p("/dashboard")}catch(u){d(u.message||"registration failed")}}return e.jsx("div",{className:"container",children:e.jsxs("div",{className:"card",style:{maxWidth:420,margin:"40px auto"},children:[e.jsx("h3",{style:{marginTop:0},children:"Create your DeployHub account"}),e.jsxs("div",{style:{display:"grid",gap:8},children:[e.jsx("input",{placeholder:"email",value:l,onChange:u=>a(u.target.value)}),e.jsx("input",{placeholder:"password",type:"password",value:o,onChange:u=>x(u.target.value)}),n&&e.jsx("div",{className:"muted",style:{color:"#ff9b9b"},children:n}),e.jsx("button",{className:"cta",onClick:v,children:"Sign up"}),e.jsxs("div",{className:"muted",children:["Already have an account? ",e.jsx(V,{to:"/",children:"Login"})]})]})]})})}function qe(){const[l,a]=t.useState([]),[o,x]=t.useState([]),[n,d]=t.useState(!1),[p,v]=t.useState("https://github.com/user/repo.git"),[u,N]=t.useState([]),w=t.useRef(null),C=!!localStorage.getItem("token");t.useEffect(()=>{const i=re(S,{transports:["websocket"],query:{kind:"dashboard"}});return w.current=i,i.on("dashboard:agents",D=>a(D)),i.on("dashboard:deployment-status",()=>h()),i.on("dashboard:deployment-log",()=>{}),h(),()=>{i.disconnect()}},[]);const m=t.useMemo(()=>l.filter(i=>i.status==="online"),[l]);async function h(){const i=await pe("/api/deployments");x(i.deployments)}async function k(){if(!p||u.length===0)return alert("Select one or more agents and provide a repo URL");try{await Promise.all(u.map(i=>I("/api/deploy",{agentId:i,repoUrl:p})))}catch(i){alert(i.message||"Failed to create deployment (are you logged in?)");return}d(!1),await h()}return C?e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx(V,{to:"/",className:"text-gray-300 hover:text-cyan-400",children:"Dashboard"}),e.jsx(V,{to:"/hardware",className:"text-gray-300 hover:text-cyan-400",children:"Hardware"}),e.jsx(V,{to:"/deployments",className:"text-gray-300 hover:text-cyan-400",children:"Deployments"}),e.jsxs("span",{className:"text-gray-400",children:["Server: ",S]})]})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Deploy on Your Hardware"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Transform your devices into a CI/CD platform."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>d(!0),className:"px-8 py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"New Deployment"}),e.jsx("a",{href:"#agents",className:"px-8 py-3 border border-cyan-400 text-cyan-400 font-semibold rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-all",children:"Connected Hardware"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsx(te,{label:"Active Deployments",value:String(o.filter(i=>i.status==="running"||i.status==="succeeded").length),color:"text-cyan-400"}),e.jsx(te,{label:"Connected Devices",value:String(m.length),color:"text-amber-400"}),e.jsx(te,{label:"Success Rate",value:`${Math.round(o.filter(i=>i.status==="succeeded").length/Math.max(1,o.length)*100)}%`,color:"text-green-400"}),e.jsx(te,{label:"Total Builds",value:String(o.length),color:"text-amber-400"})]})]})}),e.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Active Deployments"}),e.jsx("button",{onClick:h,className:"text-cyan-400 hover:text-cyan-300",children:"Refresh"})]}),e.jsxs("div",{className:"space-y-4",children:[o.map(i=>e.jsxs("div",{className:"deployment-card glass-effect rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:i.name}),e.jsx("div",{className:"text-sm text-gray-400",children:i.repoUrl})]}),e.jsx("div",{className:`badge ${i.status==="succeeded"||i.status==="running"?"online":"offline"}`,children:i.status})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(V,{to:"/deployments",className:"px-2 py-1 border rounded hover:border-cyan-400",children:"View Logs"}),e.jsx("button",{onClick:()=>I(`/api/deployments/${i.id}/action`,{action:"start"}).then(h),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Start"}),e.jsx("button",{onClick:()=>I(`/api/deployments/${i.id}/action`,{action:"stop"}).then(h),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Stop"}),e.jsx("button",{onClick:()=>I(`/api/deployments/${i.id}/action`,{action:"restart"}).then(h),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Restart"}),e.jsx("button",{onClick:()=>ge(`/api/deployments/${i.id}`).then(h),className:"px-2 py-1 border rounded hover:border-red-400 text-red-300",children:"Delete"})]})]},i.id)),o.length===0&&e.jsx("div",{className:"text-gray-400",children:"No deployments yet."})]})]}),e.jsx("div",{className:"space-y-8",id:"agents",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hardware Status"}),e.jsxs("div",{className:"space-y-3",children:[l.map(i=>{var D,c,y;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((D=i.specs)==null?void 0:D.cpuCount)||0," CPU, ",((y=(c=i.specs)==null?void 0:c.memory)==null?void 0:y.totalMb)||0,"MB"]})]}),e.jsx("span",{className:`badge ${i.status}`,children:i.status})]},i.id)}),l.length===0&&e.jsx("div",{className:"text-gray-400",children:"No agents connected."})]})]})})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Deployment"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub Repository"}),e.jsx("input",{value:p,onChange:i=>v(i.target.value),placeholder:"https://github.com/user/repo.git",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Devices"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[m.map(i=>e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded border border-slate-600 hover:border-cyan-400",children:[e.jsx("input",{type:"checkbox",checked:u.includes(i.id),onChange:D=>{N(c=>D.target.checked?[...c,i.id]:c.filter(y=>y!==i.id))}}),e.jsx("span",{children:i.name})]},i.id)),m.length===0&&e.jsx("div",{className:"text-gray-400",children:"No agents online"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:k,className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"Create Deployment"})]})]})]})})})]}):e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center p-6",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-md w-full text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to DeployHub"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Please create an account or log in to access the dashboard."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(V,{to:"/register",className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"Create account"}),e.jsx(V,{to:"/",className:"px-6 py-2 border border-cyan-400 text-cyan-400 rounded-lg hover:bg-cyan-400 hover:text-slate-900",children:"Login"})]})]})})}function te({label:l,value:a,color:o}){return e.jsxs("div",{className:"metric-card p-6 rounded-xl border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:l}),e.jsx("span",{className:"text-lg",children:"●"})]}),e.jsx("div",{className:`text-3xl font-bold ${o}`,children:a})]})}function Ke(){const[l,a]=t.useState([]),o=t.useRef(null);t.useEffect(()=>{const n=re(S,{transports:["websocket"],query:{kind:"dashboard"}});return o.current=n,n.on("dashboard:agents",d=>a(d)),()=>{n.disconnect()}},[]);const x=t.useMemo(()=>l.filter(n=>n.status==="online"),[l]);return e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Server: ",S]})]})})}),e.jsxs("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Hardware Management"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Connect and monitor your personal devices."})]}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsx("a",{href:`${S}/public/agents/install-windows.ps1`,className:"px-8 py-3 border border-amber-400 text-amber-400 font-semibold rounded-lg hover:bg-amber-400 hover:text-slate-900 transition-all",children:"Download Windows Agent"}),e.jsx("a",{href:`${S}/public/agents/install-linux.sh`,className:"px-8 py-3 border border-cyan-400 text-cyan-400 font-semibold rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-all",children:"Download Linux Agent"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Connected Devices"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.jsx("span",{className:"text-green-400",children:"●"}),e.jsxs("span",{children:[x.length," Online"]}),e.jsx("span",{className:"text-red-400 ml-4",children:"●"}),e.jsxs("span",{children:[l.length-x.length," Offline"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.map(n=>{var d,p,v,u,N;return e.jsxs("div",{className:"device-card glass-effect rounded-xl p-6 border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold text-lg",children:n.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${n.status==="online"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:n.status.toUpperCase()})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((d=n.specs)==null?void 0:d.platform)||""," ",((p=n.specs)==null?void 0:p.arch)||""]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((v=n.specs)==null?void 0:v.cpuCount)||0," CPU, ",((N=(u=n.specs)==null?void 0:u.memory)==null?void 0:N.totalMb)||0,"MB"]})]},n.id)}),l.length===0&&e.jsx("div",{className:"text-gray-400",children:"No devices connected yet."})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Overview"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{label:"Total Devices",value:String(l.length)}),e.jsx(ae,{label:"Online Devices",value:String(x.length)}),e.jsx(ae,{label:"Total CPU Cores",value:String(l.reduce((n,d)=>{var p;return n+(((p=d.specs)==null?void 0:p.cpuCount)||0)},0))}),e.jsx(ae,{label:"Total Memory (MB)",value:String(l.reduce((n,d)=>{var p,v;return n+(((v=(p=d.specs)==null?void 0:p.memory)==null?void 0:v.totalMb)||0)},0))})]})]})})]})]})]})]})}function ae({label:l,value:a}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:l}),e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:a})]})}function Ye(){const[l,a]=t.useState([]),[o,x]=t.useState([]),[n,d]=t.useState(!1),[p,v]=t.useState(!1),[u,N]=t.useState(null),[w,C]=t.useState(0),[m,h]=t.useState(""),[k,i]=t.useState("main"),[D,c]=t.useState("Auto-detect"),[y,b]=t.useState(""),[A,E]=t.useState(""),[L,Y]=t.useState(""),[W,F]=t.useState([{key:"",value:""}]),Z=t.useRef(null);t.useEffect(()=>{const r=re(S,{transports:["websocket"],query:{kind:"dashboard"}});return Z.current=r,r.on("dashboard:agents",j=>a(j)),r.on("dashboard:deployment-status",()=>T()),r.on("dashboard:deployment-log",({deploymentId:j,line:R})=>{x(H=>H.map($=>$.id===j?{...$,logs:[...$.logs,R]}:$))}),T(),()=>{r.disconnect()}},[]);const J=t.useMemo(()=>l.filter(r=>r.status==="online"),[l]);async function T(){const r=await pe("/api/deployments");x(r.deployments)}async function _(){if(!m||!L)return alert("Fill in all required fields");try{const r=W.reduce((j,{key:R,value:H})=>R?{...j,[R]:H}:j,{});await I("/api/deploy",{agentId:L,repoUrl:m}),d(!1),await T()}catch(r){alert(r.message||"Failed to create deployment")}}async function z(r,j){await I(`/api/deployments/${r}/action`,{action:j}),await T()}async function Q(r){await ge(`/api/deployments/${r}`),await T()}function q(){if(!m)return alert("Enter repository URL");m.includes("react")||m.includes("next")?(c("React"),b("npm run build"),E("npm start")):m.includes("node")||m.includes("express")?(c("Node.js"),b("npm install"),E("npm start")):(m.includes("python")||m.includes("flask"))&&(c("Python"),b("pip install -r requirements.txt"),E("python app.py")),C(1)}function K(){F(r=>[...r,{key:"",value:""}])}function M(r){F(j=>j.filter((R,H)=>H!==r))}function G(r,j,R){F(H=>H.map(($,xe)=>xe===r?{...$,[j]:R}:$))}function ce(r){N(r),v(!0)}const X=o.filter(r=>r.status==="running"||r.status==="succeeded").length,U=o.filter(r=>r.status==="building").length,de=o.filter(r=>r.status==="error").length;return e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Server: ",S]})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Deployment Management"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Create, monitor, and manage your application deployments"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsx("button",{onClick:()=>d(!0),className:"px-8 py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"New Deployment"}),e.jsx("button",{className:"px-8 py-3 border border-amber-400 text-amber-400 font-semibold rounded-lg hover:bg-amber-400 hover:text-slate-900 transition-all",children:"Bulk Actions"})]})]})}),e.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"All Deployments"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("select",{className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",children:[e.jsx("option",{children:"All Status"}),e.jsx("option",{children:"Running"}),e.jsx("option",{children:"Building"}),e.jsx("option",{children:"Stopped"}),e.jsx("option",{children:"Error"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[o.map(r=>{var j;return e.jsxs("div",{className:"deployment-card glass-effect rounded-xl p-6 border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${r.status==="running"?"bg-green-400":r.status==="building"?"bg-amber-400":"bg-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:r.name}),e.jsx("p",{className:"text-sm text-gray-400",children:r.repoUrl})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="succeeded"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r.status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ce(r),className:"p-2 text-gray-400 hover:text-cyan-400 transition-colors",title:"View Logs",children:"📋"}),e.jsx("button",{onClick:()=>z(r.id,"restart"),className:"p-2 text-gray-400 hover:text-amber-400 transition-colors",title:"Restart",children:"🔄"}),e.jsx("button",{onClick:()=>z(r.id,"stop"),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Stop",children:"⏹️"}),e.jsx("button",{onClick:()=>Q(r.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Delete",children:"🗑️"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Agent"}),e.jsx("p",{className:"font-medium",children:((j=l.find(R=>R.id===r.agentId))==null?void 0:j.name)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Status"}),e.jsx("p",{className:"font-medium",children:r.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Logs"}),e.jsxs("p",{className:"font-medium",children:[r.logs.length," lines"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Health"}),e.jsx("p",{className:"font-medium text-green-400",children:"98%"})]})]})]},r.id)}),o.length===0&&e.jsx("div",{className:"text-gray-400",children:"No deployments yet"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Deployment Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(le,{label:"Total Deployments",value:String(o.length)}),e.jsx(le,{label:"Running",value:String(X)}),e.jsx(le,{label:"Building",value:String(U)}),e.jsx(le,{label:"Failed",value:String(de)})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"AI Insights"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-slate-800 rounded-lg border border-amber-400/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Consider implementing health checks for better monitoring."})]})}),e.jsx("div",{className:"p-3 bg-slate-800 rounded-lg border border-cyan-400/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Build times can be optimized with proper caching strategies."})]})})]})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Deployment"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${w>=0?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${w>=0?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"1"}),"Connect Repository"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub Repository URL"}),e.jsx("input",{value:m,onChange:r=>h(r.target.value),placeholder:"https://github.com/username/repository",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Branch"}),e.jsx("input",{value:k,onChange:r=>i(r.target.value),placeholder:"main",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsx("button",{onClick:q,className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Analyze Repository"})]})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${w>=1?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${w>=1?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"2"}),"Configure Build"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Type"}),e.jsxs("select",{value:D,onChange:r=>c(r.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",children:[e.jsx("option",{children:"Auto-detect"}),e.jsx("option",{children:"Node.js"}),e.jsx("option",{children:"Python"}),e.jsx("option",{children:"React"}),e.jsx("option",{children:"Vue.js"}),e.jsx("option",{children:"Static Site"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Build Command"}),e.jsx("input",{value:y,onChange:r=>b(r.target.value),placeholder:"npm run build",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Command"}),e.jsx("input",{value:A,onChange:r=>E(r.target.value),placeholder:"npm start",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]})]})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${w>=2?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${w>=2?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"3"}),"Select Target Device"]}),e.jsx("div",{className:"space-y-3",children:J.map(r=>e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-slate-800 rounded-lg border border-slate-600 cursor-pointer hover:border-cyan-400 transition-colors",children:[e.jsx("input",{type:"radio",name:"device",value:r.id,checked:L===r.id,onChange:j=>Y(j.target.value),className:"text-cyan-400 focus:ring-cyan-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:r.name}),e.jsx("span",{className:"text-green-400 text-sm",children:"●"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Online and ready"})]})]},r.id))})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${w>=3?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${w>=3?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"4"}),"Environment Variables"]}),e.jsxs("div",{className:"space-y-3",children:[W.map((r,j)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{value:r.key,onChange:R=>G(j,"key",R.target.value),placeholder:"KEY",className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"}),e.jsx("input",{value:r.value,onChange:R=>G(j,"value",R.target.value),placeholder:"value",className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"}),e.jsx("button",{onClick:()=>M(j),className:"px-3 py-2 text-red-400 hover:text-red-300 transition-colors",children:"✕"})]},j)),e.jsx("button",{onClick:K,className:"px-4 py-2 border border-cyan-400 text-cyan-400 rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-colors",children:"Add Variable"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-600",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:_,className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"Create Deployment"})]})]})]})})}),p&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold",children:["Build Logs - ",u.name]}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg mb-4 h-96 overflow-y-auto font-mono text-sm",children:[u.logs.map((r,j)=>e.jsx("div",{className:"text-green-400 mb-1",children:r},j)),u.logs.length===0&&e.jsx("div",{className:"text-gray-400",children:"No logs available"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors",children:"Auto-scroll: ON"}),e.jsx("button",{className:"px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Clear Logs"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Build Status:"}),e.jsx("span",{className:"text-amber-400 text-sm",children:u.status})]})]})]})})})]})}function le({label:l,value:a}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:l}),e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:a})]})}function Ze(){const{linkId:l}=Ie(),[a,o]=t.useState(null),[x,n]=t.useState([]),[d,p]=t.useState(!0),[v,u]=t.useState(""),[N,w]=t.useState(!1),[C,m]=t.useState(""),[h,k]=t.useState([]);t.useEffect(()=>{if(!l){u("Invalid deployment link"),p(!1);return}i()},[l]);async function i(){try{const c=await fetch(`${S}/api/deploy/${l}`),y=await c.json();if(!c.ok)throw new Error(y.error||"Failed to load deployment configuration");o(y.config),n(y.agents)}catch(c){u(c.message)}finally{p(!1)}}async function D(){if(!C){u("Please select an agent");return}try{w(!0),u("");const c=await I("/api/deploy",{agentId:C,repoUrl:a.repoUrl,branch:a.branch,buildCommand:a.buildCommand,startCommand:a.startCommand,env:a.env});k(y=>[...y,`[${new Date().toISOString()}] Deployment started successfully!`]),k(y=>[...y,`[${new Date().toISOString()}] Deployment ID: ${c.deployment.id}`]),setTimeout(()=>{k(y=>[...y,`[${new Date().toISOString()}] Deployment completed!`]),w(!1)},3e3)}catch(c){u(c.message||"Deployment failed"),w(!1)}}return d?e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading deployment configuration..."})]})}):v?e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"text-red-400 text-6xl mb-4",children:"⚠️"}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Deployment Link Error"}),e.jsx("p",{className:"text-gray-300 mb-6",children:v}),e.jsx("button",{onClick:()=>window.location.href="/",className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Go to DeployHub"})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Quick Deploy"})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Quick Deploy"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Deploy this repository with one click"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Repository Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Repository"}),e.jsx("p",{className:"text-white font-mono text-sm break-all",children:a.repoUrl})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Branch"}),e.jsx("p",{className:"text-white",children:a.branch})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Build Command"}),e.jsx("p",{className:"text-white font-mono text-sm",children:a.buildCommand})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Start Command"}),e.jsx("p",{className:"text-white font-mono text-sm",children:a.startCommand})]}),Object.keys(a.env||{}).length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Environment Variables"}),e.jsx("div",{className:"space-y-1",children:Object.entries(a.env).map(([c,y])=>e.jsxs("div",{className:"text-white font-mono text-sm",children:[c,"=",String(y)]},c))})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Deploy Now"}),v&&e.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:v})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Agent"}),e.jsxs("select",{value:C,onChange:c=>m(c.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",disabled:N,children:[e.jsx("option",{value:"",children:"Choose an agent..."}),x.filter(c=>c.status==="online").map(c=>{var y,b,A;return e.jsxs("option",{value:c.id,children:[c.name," (",((y=c.specs)==null?void 0:y.cpuCount)||0," CPU, ",((A=(b=c.specs)==null?void 0:b.memory)==null?void 0:A.totalMb)||0,"MB)"]},c.id)})]})]}),x.filter(c=>c.status==="online").length===0&&e.jsx("div",{className:"p-3 bg-amber-500/20 border border-amber-500/30 rounded-lg",children:e.jsx("p",{className:"text-amber-400 text-sm",children:"No agents are currently online. Please wait for an agent to come online or contact the administrator."})}),e.jsx("button",{onClick:D,disabled:!C||N||x.filter(c=>c.status==="online").length===0,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Deploying...":"Deploy Repository"})]}),h.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Deployment Logs"}),e.jsx("div",{className:"bg-slate-800 p-4 rounded-lg h-48 overflow-y-auto",children:e.jsx("pre",{className:"text-green-400 text-sm font-mono",children:h.join(`
`)})})]})]})]})]})})]})}const Qe=Oe([{path:"/",element:e.jsx(je,{})},{path:"/landing",element:e.jsx(Fe,{})},{path:"/about",element:e.jsx(Ge,{})},{path:"/signup",element:e.jsx(ve,{})},{path:"/dashboard",element:e.jsx(je,{})},{path:"/register",element:e.jsx(ve,{})},{path:"/fancy",element:e.jsx(qe,{})},{path:"/hardware",element:e.jsx(Ke,{})},{path:"/deployments",element:e.jsx(Ye,{})},{path:"/deploy/:linkId",element:e.jsx(Ze,{})}]),Xe=document.getElementById("root");ke(Xe).render(e.jsx(Ae.StrictMode,{children:e.jsx(Me,{router:Qe})}));
