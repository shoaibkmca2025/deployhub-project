import{r as t,b as Le,c as Pe}from"./vendor-97cK7ltV.js";import{u as le,L as F,a as Ie,c as Oe,R as He}from"./router-CbtUVPpw.js";import{l as re}from"./socket-TjCxX7sJ.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const x of d)if(x.type==="childList")for(const N of x.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&i(N)}).observe(document,{childList:!0,subtree:!0});function l(d){const x={};return d.integrity&&(x.integrity=d.integrity),d.referrerPolicy&&(x.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?x.credentials="include":d.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function i(d){if(d.ep)return;d.ep=!0;const x=l(d);fetch(d.href,x)}})();var Ne={exports:{}},oe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Me=t,Te=Symbol.for("react.element"),Be=Symbol.for("react.fragment"),Ue=Object.prototype.hasOwnProperty,ze=Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fe={key:!0,ref:!0,__self:!0,__source:!0};function we(a,n,l){var i,d={},x=null,N=null;l!==void 0&&(x=""+l),n.key!==void 0&&(x=""+n.key),n.ref!==void 0&&(N=n.ref);for(i in n)Ue.call(n,i)&&!Fe.hasOwnProperty(i)&&(d[i]=n[i]);if(a&&a.defaultProps)for(i in n=a.defaultProps,n)d[i]===void 0&&(d[i]=n[i]);return{$$typeof:Te,type:a,key:x,ref:N,props:d,_owner:ze.current}}oe.Fragment=Be;oe.jsx=we;oe.jsxs=we;Ne.exports=oe;var e=Ne.exports,ke,fe=Le;ke=fe.createRoot,fe.hydrateRoot;const Ve=()=>{const a=le(),[n,l]=t.useState(!1);t.useEffect(()=>{l(!0)},[]);const i=()=>{a("/signup")},d=()=>{a("/about")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 text-white overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),e.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"})]}),e.jsx("nav",{className:"relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"DH"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsxs("div",{className:"hidden md:flex space-x-8",children:[e.jsx("a",{href:"#features",className:"hover:text-blue-400 transition-colors",children:"Features"}),e.jsx("a",{href:"#pricing",className:"hover:text-blue-400 transition-colors",children:"Pricing"}),e.jsx("a",{href:"#about",className:"hover:text-blue-400 transition-colors",children:"About"})]})]})}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:e.jsx("div",{className:`transition-all duration-1000 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent leading-tight",children:"DeployHub"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"The ultimate CI/CD platform for modern developers. Deploy, monitor, and scale your applications with ease."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsx("button",{onClick:i,className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Get Started Free"}),e.jsx("button",{onClick:d,className:"px-8 py-4 border-2 border-white/30 hover:border-white/60 text-white font-semibold rounded-full transition-all duration-300 hover:bg-white/10",children:"Learn More"})]})]})})}),e.jsxs("div",{id:"features",className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Powerful Features"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Everything you need to build, deploy, and manage your applications"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Lightning Fast Deploys"}),e.jsx("p",{className:"text-gray-300",children:"Deploy your applications in seconds with our optimized infrastructure and smart caching."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Zero Downtime"}),e.jsx("p",{className:"text-gray-300",children:"Deploy with confidence knowing your users won't experience any service interruption."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-teal-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Real-time Monitoring"}),e.jsx("p",{className:"text-gray-300",children:"Monitor your applications with detailed metrics, logs, and alerts in real-time."})]})]})]}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-lg rounded-3xl p-12 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Ready to Deploy?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of developers who trust DeployHub for their CI/CD needs. Start your free trial today."}),e.jsx("button",{onClick:i,className:"px-12 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold text-xl rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Start Free Trial"})]})}),e.jsx("footer",{className:"relative z-10 border-t border-white/10 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Â© 2024 DeployHub. All rights reserved."}),e.jsxs("div",{className:"flex justify-center space-x-6",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Support"})]})]})})]})},We=()=>{const a=le(),n=()=>{a("/signup")},l=()=>{a("/")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 text-white",children:[e.jsx("nav",{className:"p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[e.jsxs("button",{onClick:l,className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"DH"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsx("button",{onClick:n,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-full transition-all duration-300 transform hover:scale-105",children:"Get Started"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-20",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"About DeployHub"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed",children:"Revolutionizing the way developers deploy and manage their applications"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-gray-300 mb-6 leading-relaxed",children:"We believe that deploying applications should be simple, fast, and reliable. DeployHub was born from the frustration of complex CI/CD pipelines and the need for a developer-friendly deployment platform."}),e.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Our mission is to empower developers with tools that just work, allowing them to focus on what they do best - building amazing applications."})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"10K+"}),e.jsx("div",{className:"text-gray-300",children:"Active Users"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"50M+"}),e.jsx("div",{className:"text-gray-300",children:"Deployments"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-pink-400 mb-2",children:"99.9%"}),e.jsx("div",{className:"text-gray-300",children:"Uptime"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"24/7"}),e.jsx("div",{className:"text-gray-300",children:"Support"})]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 order-2 lg:order-1",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 text-blue-400",children:"Why Choose DeployHub?"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Zero-configuration deployment"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Real-time monitoring and alerts"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Automatic scaling and load balancing"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Enterprise-grade security"})]})]})]}),e.jsxs("div",{className:"order-1 lg:order-2",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Built for Developers"}),e.jsx("p",{className:"text-lg text-gray-300 mb-6 leading-relaxed",children:"DeployHub is designed by developers, for developers. We understand the pain points of modern deployment workflows and have built a platform that eliminates complexity while providing enterprise-grade features."}),e.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"From solo developers to large teams, DeployHub scales with your needs and grows with your ambitions."})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-lg rounded-3xl p-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join the future of application deployment. Start your free trial today and experience the difference."}),e.jsx("button",{onClick:n,className:"px-12 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold text-xl rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Start Free Trial"})]})})]})]})},ue={},C=(ue==null?void 0:ue.VITE_SERVER_ORIGIN)||(location.hostname==="localhost"||location.hostname==="127.0.0.1"?"http://localhost:4000":location.hostname.includes("render.com")?"https://deployhub-backend.onrender.com":`${location.protocol}//${location.hostname}:4000`);function ce(){const a=localStorage.getItem("token");return a?{Authorization:`Bearer ${a}`}:{}}async function ie(a){try{const n=await fetch(`${C}${a}`,{headers:{"Content-Type":"application/json",...ce()}});if(!n.ok){const l=await n.text();let i=l;try{const d=JSON.parse(l);i=d.error||d.message||l}catch{}throw new Error(i)}return n.json()}catch(n){throw n instanceof TypeError&&n.message.includes("Failed to fetch")?new Error("Cannot connect to server. Please check if the server is running on "+C):n}}async function P(a,n){try{const l=await fetch(`${C}${a}`,{method:"POST",headers:{"Content-Type":"application/json",...ce()},body:n?JSON.stringify(n):void 0});if(!l.ok){const i=await l.text();let d=i;try{const x=JSON.parse(i);d=x.error||x.message||i}catch{}throw new Error(d)}return l.json()}catch(l){throw l instanceof TypeError&&l.message.includes("Failed to fetch")?new Error("Cannot connect to server. Please check if the server is running on "+C):l}}async function Ge(a,n){const l=await fetch(`${C}${a}`,{method:"PUT",headers:{"Content-Type":"application/json",...ce()},body:n?JSON.stringify(n):void 0});if(!l.ok)throw new Error(await l.text());return l.json()}async function ge(a){const n=await fetch(`${C}${a}`,{method:"DELETE",headers:{"Content-Type":"application/json",...ce()}});if(!n.ok)throw new Error(await n.text());return n.json()}async function ye(){try{const a=await fetch(`${C}/api/status`,{method:"GET",headers:{"Content-Type":"application/json"}});return{success:a.ok,status:a.status,statusText:a.statusText,serverOrigin:C}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown error",serverOrigin:C}}}const pe={};function _e({onAuthed:a}){const[n,l]=t.useState(""),[i,d]=t.useState(""),[x,N]=t.useState("signup"),[k,g]=t.useState(""),[u,b]=t.useState(!1),[p,m]=t.useState(0),[h,S]=t.useState("checking");t.useEffect(()=>{(async()=>{const E=await ye();S(E.success?"connected":"disconnected")})();const I=localStorage.getItem("token");if(I){const E=(pe==null?void 0:pe.VITE_SERVER_ORIGIN)||(location.hostname==="localhost"||location.hostname==="127.0.0.1"?"http://localhost:4000":`${location.protocol}//${location.hostname}:4000`);fetch(`${E}/api/deployments`,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}}).then(L=>{L.ok?a():(localStorage.removeItem("token"),localStorage.removeItem("user"))}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user")})}},[a]),t.useEffect(()=>{if(i.length===0){m(0);return}let y=0;i.length>=6&&(y+=1),i.length>=8&&(y+=1),/[A-Z]/.test(i)&&(y+=1),/[a-z]/.test(i)&&(y+=1),/[0-9]/.test(i)&&(y+=1),/[^A-Za-z0-9]/.test(i)&&(y+=1),m(y)},[i]);async function o(){try{if(g(""),b(!0),!n||!i){g("Please fill in all fields");return}if(x==="signup"&&i.length<6){g("Password must be at least 6 characters long");return}const y=await ye();if(!y.success){g(`Cannot connect to server at ${y.serverOrigin}. Please check if the backend server is running.`);return}const I=await P(x==="signup"?"/api/signup":"/api/login",{email:n,password:i});localStorage.setItem("token",I.token),localStorage.setItem("user",JSON.stringify(I.user)),a()}catch(y){console.error("Authentication error:",y),g(y.message||"Authentication failed")}finally{b(!1)}}function D(y){y.key==="Enter"&&o()}const c=()=>p<=2?"text-red-400":p<=4?"text-yellow-400":"text-green-400",v=()=>p<=2?"Weak":p<=4?"Medium":"Strong";return e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 border border-cyan-400/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-slate-900 font-bold text-2xl",children:"DH"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"DeployHub"}),e.jsx("p",{className:"text-gray-400",children:"Deploy applications on your own hardware"}),e.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h==="connected"?"bg-green-400":h==="checking"?"bg-yellow-400 animate-pulse":"bg-red-400"}`}),e.jsx("span",{className:`text-sm ${h==="connected"?"text-green-400":h==="checking"?"text-yellow-400":"text-red-400"}`,children:h==="connected"?"Connected to server":h==="checking"?"Checking connection...":"Server offline"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:y=>l(y.target.value),onKeyPress:D,className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none text-white placeholder-gray-400",disabled:u})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Enter your password",value:i,onChange:y=>d(y.target.value),onKeyPress:D,className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none text-white placeholder-gray-400",disabled:u}),x==="signup"&&i&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Password strength:"}),e.jsx("span",{className:c(),children:v()})]}),e.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${p<=2?"bg-red-400":p<=4?"bg-yellow-400":"bg-green-400"}`,style:{width:`${p/6*100}%`}})})]})]}),k&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:k})}),e.jsx("button",{onClick:o,disabled:u||!n||!i,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Please wait...":x==="signup"?"Create Account":"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>N(x==="signup"?"login":"signup"),className:"text-cyan-400 hover:text-cyan-300 text-sm transition-colors",disabled:u,children:x==="signup"?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})})}function Je({open:a,initialEnv:n,onClose:l,onSave:i}){const[d,x]=t.useState([]),[N,k]=t.useState(!1);if(t.useEffect(()=>{const m=Object.entries(n||{}).map(([h,S])=>({key:h,value:S}));x(m.length?m:[{key:"",value:""}])},[n,a]),!a)return null;function g(m,h,S){x(o=>o.map((D,c)=>c===m?{...D,[h]:S}:D))}function u(){x(m=>[...m,{key:"",value:""}])}function b(m){x(h=>h.filter((S,o)=>o!==m))}async function p(){k(!0);const m={};d.forEach(({key:h,value:S})=>{h&&(m[h]=S)}),await i(m),k(!1),l()}return e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{className:"card",style:{width:520,maxWidth:"90vw",background:"#0f1430"},children:[e.jsx("h3",{style:{marginTop:0},children:"Environment Variables"}),e.jsxs("div",{style:{display:"grid",gap:8},children:[d.map((m,h)=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:8},children:[e.jsx("input",{placeholder:"KEY",value:m.key,onChange:S=>g(h,"key",S.target.value)}),e.jsx("input",{placeholder:"value",value:m.value,onChange:S=>g(h,"value",S.target.value)}),e.jsx("button",{onClick:()=>b(h),children:"Remove"})]},h)),e.jsx("div",{children:e.jsx("button",{onClick:u,children:"Add variable"})}),e.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[e.jsx("button",{onClick:l,children:"Cancel"}),e.jsx("button",{className:"cta",onClick:p,disabled:N,children:N?"Saving...":"Save"})]})]})]})})}function je(){var be;le();const[a,n]=t.useState([]),[l,i]=t.useState([]),[d,x]=t.useState(null),[N,k]=t.useState([]),[g,u]=t.useState(!!localStorage.getItem("token")),[b,p]=t.useState(null),[m,h]=t.useState("connecting"),[S,o]=t.useState(!1),[D,c]=t.useState(""),[v,y]=t.useState("overview"),[I,E]=t.useState(!1),[L,Y]=t.useState(""),[G,V]=t.useState("main"),[Z,_]=t.useState(""),[T,J]=t.useState(""),[U,Q]=t.useState([]),[q,K]=t.useState({}),[H,W]=t.useState(null),[de,X]=t.useState(!1),[z,xe]=t.useState(null),r=t.useRef(null);t.useEffect(()=>{const s=localStorage.getItem("user");s&&p(JSON.parse(s)),(async()=>{try{(await fetch(`${C}/api/status`)).ok?(h("connected"),c("")):(h("disconnected"),c("Server is not responding properly"))}catch{h("disconnected"),c("Cannot connect to server. Please check if the server is running.")}})();const j=re(C,{transports:["websocket","polling"],query:{kind:"dashboard"},reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3});return r.current=j,j.on("connect",()=>{h("connected"),c("")}),j.on("disconnect",()=>{h("disconnected")}),j.on("connect_error",A=>{h("disconnected"),c("WebSocket connection failed. Please check if the server is running.")}),j.on("dashboard:agents",A=>{n(A),c("")}),j.on("dashboard:deployment-log",({deploymentId:A,line:B})=>{k(O=>d===A?[...O,B]:O)}),j.on("dashboard:deployment-status",({deploymentId:A,status:B})=>{d===A&&k(O=>[...O,`[${new Date().toISOString()}] [dashboard] Status: ${B}`]),g&&$()}),()=>{j.disconnect()}},[d,g]);const w=t.useMemo(()=>a.filter(s=>s.status==="online"),[a]),R=t.useMemo(()=>l.filter(s=>s.status==="running"||s.status==="succeeded"),[l]),M=t.useMemo(()=>{const s=l.length,f=l.filter(j=>j.status==="succeeded").length;return s>0?Math.round(f/s*100):0},[l]);async function $(){if(g)try{const s=await ie("/api/deployments");i(s.deployments)}catch(s){s.message.includes("unauthorized")||s.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),u(!1),c("Session expired. Please log in again.")):c("Failed to load deployments")}}async function me(){if(!L||U.length===0){c("Please select at least one agent and provide a repository URL");return}if(!/^https?:\/\/github\.com\/[^\/]+\/[^\/]+(\.git)?$/.test(L)){c("Please enter a valid GitHub repository URL (e.g., https://github.com/username/repo)");return}try{o(!0),c(""),await Promise.all(U.map(f=>P("/api/deploy",{agentId:f,repoUrl:L,branch:G,buildCommand:Z||void 0,startCommand:T||void 0,env:q}))),E(!1),Y(""),V("main"),_(""),J(""),Q([]),K({}),W(null),await $()}catch(f){c(f.message||"Failed to create deployment")}finally{o(!1)}}async function he(s,f){try{o(!0),await P(`/api/deployments/${s}/action`,{action:f}),await $()}catch(j){j.message.includes("unauthorized")||j.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),u(!1),c("Session expired. Please log in again.")):c(`Failed to ${f} deployment: ${j.message}`)}finally{o(!1)}}async function Se(s){try{o(!0),await ge(`/api/deployments/${s}`),d===s&&x(null),await $()}catch(f){f.message.includes("unauthorized")||f.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),u(!1),c("Session expired. Please log in again.")):c(`Failed to delete deployment: ${f.message}`)}finally{o(!1)}}function Ce(s){xe(s),X(!0)}async function De(s){z&&(await Ge(`/api/deployments/${z.id}/env`,{env:s}),await $())}async function Re(){if(!L){c("Please enter a GitHub repository URL first");return}try{const s=await P("/api/ai/suggest",{repoUrl:L});W(s.suggestion),s.suggestion.buildCommand&&_(s.suggestion.buildCommand),s.suggestion.startCommand&&J(s.suggestion.startCommand)}catch(s){W({error:s.message||"Failed to fetch suggestion"})}}function Ee(){const s=prompt("Environment variable name:"),f=prompt("Environment variable value:");s&&f&&K(j=>({...j,[s]:f}))}function $e(s){K(f=>{const j={...f};return delete j[s],j})}function Ae(s){const f=s.join(`
`).toLowerCase(),j=[];return f.includes("eaddrinuse")&&j.push("Port in use: try changing port or stop previous process."),(f.includes("command not found")||f.includes("npm: not found"))&&j.push("Missing runtime: ensure Node.js/npm installed on agent."),f.includes("permission denied")&&j.push("Permission issue: check file permissions or run without sudo-sensitive steps."),f.includes("fatal: could not read from remote repository")&&j.push("Git auth required: use public repo or provide read access."),j.length===0&&j.push("No obvious errors detected."),j}return t.useEffect(()=>{localStorage.getItem("token")&&fetch(`${C}/api/status`).then(f=>{f.ok||(localStorage.removeItem("token"),localStorage.removeItem("user"),u(!1))}).catch(()=>{})},[]),g?e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>y("overview"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${v==="overview"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Overview"}),e.jsx("button",{onClick:()=>y("deployments"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${v==="deployments"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Deployments"}),e.jsx("button",{onClick:()=>y("hardware"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${v==="hardware"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Hardware"}),e.jsx("button",{onClick:()=>y("logs"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${v==="logs"?"bg-cyan-500/20 text-cyan-400":"text-gray-400 hover:text-cyan-400"}`,children:"Logs"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${m==="connected"?"bg-green-400":m==="connecting"?"bg-yellow-400":"bg-red-400"}`}),e.jsx("span",{className:"text-sm text-gray-400",children:m==="connected"?"Connected":m==="connecting"?"Connecting...":"Disconnected"})]}),b&&e.jsxs("div",{className:"text-sm text-gray-400",children:["Welcome, ",b.email]}),e.jsx("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),u(!1),c("")},className:"px-3 py-1 text-sm border border-gray-600 rounded hover:border-gray-400",children:"Logout"})]})]})})}),D&&e.jsx("div",{className:"fixed top-20 left-4 right-4 z-40 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-red-400",children:D}),e.jsx("button",{onClick:()=>c(""),className:"text-red-400 hover:text-red-300",children:"â"})]})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 flex items-center space-x-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),e.jsx("span",{className:"text-white",children:"Processing..."})]})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[v==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"DeployHub Dashboard"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Deploy applications on your own hardware"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsx(se,{label:"Active Deployments",value:String(R.length),color:"text-cyan-400"}),e.jsx(se,{label:"Connected Devices",value:String(w.length),color:"text-amber-400"}),e.jsx(se,{label:"Success Rate",value:`${M}%`,color:"text-green-400"}),e.jsx(se,{label:"Total Builds",value:String(l.length),color:"text-purple-400"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>E(!0),className:"w-full px-6 py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"New Deployment"}),e.jsx("button",{onClick:()=>y("hardware"),className:"w-full px-6 py-3 border border-amber-400 text-amber-400 rounded-lg hover:bg-amber-400 hover:text-slate-900 transition-all",children:"Manage Hardware"}),e.jsx("button",{onClick:()=>y("deployments"),className:"w-full px-6 py-3 border border-green-400 text-green-400 rounded-lg hover:bg-green-400 hover:text-slate-900 transition-all",children:"View Deployments"})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Server Status"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m==="connected"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:m})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Online Agents"}),e.jsx("span",{className:"text-cyan-400",children:w.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Running Deployments"}),e.jsx("span",{className:"text-green-400",children:R.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Server URL"}),e.jsx("span",{className:"text-xs text-gray-400",children:C})]})]})]})]})]}),v==="deployments"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Deployments"}),e.jsx("button",{onClick:()=>E(!0),className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"New Deployment"})]}),e.jsxs("div",{className:"space-y-4",children:[l.map(s=>e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.repoUrl}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Branch: ",s.branch||"main"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="succeeded"||s.status==="running"?"bg-green-500/20 text-green-400":s.status==="building"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:s.status}),e.jsx("button",{onClick:()=>x(s.id),className:"px-3 py-1 text-xs border border-cyan-400 text-cyan-400 rounded hover:bg-cyan-400 hover:text-slate-900",children:"View Logs"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>he(s.id,"start"),className:"px-3 py-1 text-xs border border-green-400 text-green-400 rounded hover:bg-green-400 hover:text-slate-900",children:"Start"}),e.jsx("button",{onClick:()=>he(s.id,"stop"),className:"px-3 py-1 text-xs border border-red-400 text-red-400 rounded hover:bg-red-400 hover:text-slate-900",children:"Stop"}),e.jsx("button",{onClick:()=>he(s.id,"restart"),className:"px-3 py-1 text-xs border border-amber-400 text-amber-400 rounded hover:bg-amber-400 hover:text-slate-900",children:"Restart"}),e.jsx("button",{onClick:()=>Ce(s),className:"px-3 py-1 text-xs border border-purple-400 text-purple-400 rounded hover:bg-purple-400 hover:text-slate-900",children:"Environment"}),e.jsx("button",{onClick:()=>Se(s.id),className:"px-3 py-1 text-xs border border-red-600 text-red-400 rounded hover:bg-red-600 hover:text-white",children:"Delete"})]})]},s.id)),l.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx("p",{className:"text-lg mb-4",children:"No deployments yet"}),e.jsx("button",{onClick:()=>E(!0),className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"Create Your First Deployment"})]})]})]}),v==="hardware"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Hardware Status"}),e.jsx("button",{onClick:()=>$(),className:"px-4 py-2 text-cyan-400 hover:text-cyan-300 border border-cyan-400 rounded-lg",children:"Refresh"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.map(s=>{var f,j,A,B,O,ee;return e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[((f=s.specs)==null?void 0:f.cpuCount)||0," CPU cores, ",((A=(j=s.specs)==null?void 0:j.memory)==null?void 0:A.totalMb)||0,"MB RAM"]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s.status==="online"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:s.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Status"}),e.jsx("span",{className:s.status==="online"?"text-green-400":"text-red-400",children:s.status==="online"?"Online":"Offline"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"CPU Cores"}),e.jsx("span",{className:"text-cyan-400",children:((B=s.specs)==null?void 0:B.cpuCount)||0})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Memory"}),e.jsxs("span",{className:"text-amber-400",children:[((ee=(O=s.specs)==null?void 0:O.memory)==null?void 0:ee.totalMb)||0,"MB"]})]}),s.lastSeen&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Last Seen"}),e.jsx("span",{className:"text-gray-400",children:new Date(s.lastSeen).toLocaleTimeString()})]})]})]},s.id)}),a.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[e.jsx("p",{className:"text-lg mb-4",children:"No agents connected"}),e.jsx("p",{className:"text-sm",children:"Install the DeployHub agent on your devices to get started"})]})]})]}),v==="logs"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Deployment Logs"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("select",{value:d||"",onChange:s=>x(s.target.value||null),className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select a deployment"}),l.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("button",{onClick:()=>k([]),className:"px-4 py-2 text-red-400 hover:text-red-300 border border-red-400 rounded-lg",children:"Clear Logs"})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Live Logs"}),d?e.jsxs("p",{className:"text-sm text-gray-400",children:["Showing logs for: ",(be=l.find(s=>s.id===d))==null?void 0:be.name]}):e.jsx("p",{className:"text-sm text-gray-400",children:"Select a deployment to view its logs"})]}),e.jsx("div",{className:"bg-slate-800 rounded-lg p-4 h-96 overflow-y-auto",children:e.jsx("pre",{className:"text-green-400 text-sm font-mono",children:N.length>0?N.join(`
`):"No logs available"})}),N.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-slate-800 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"AI Hints"}),e.jsx("ul",{className:"text-sm space-y-1",children:Ae(N).map((s,f)=>e.jsxs("li",{className:"text-gray-300",children:["â¢ ",s]},f))})]})]})]})]})}),I&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Deployment"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-white",children:"â"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Repository Configuration"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub Repository URL"}),e.jsx("input",{type:"text",value:L,onChange:s=>Y(s.target.value),placeholder:"https://github.com/username/repository",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Branch"}),e.jsx("input",{type:"text",value:G,onChange:s=>V(s.target.value),placeholder:"main",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsx("button",{onClick:Re,className:"px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30",children:"AI Suggest Configuration"}),H&&e.jsxs("div",{className:"p-4 bg-slate-800 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"AI Suggestion"}),"error"in H?e.jsx("div",{className:"text-red-400 text-sm",children:H.error}):e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:["Runtime: ",e.jsx("span",{className:"text-cyan-400",children:H.runtime})]}),e.jsxs("div",{children:["Port: ",e.jsx("span",{className:"text-amber-400",children:H.port})]}),e.jsxs("div",{className:"col-span-2",children:["Build: ",e.jsx("code",{className:"text-xs text-gray-300",children:H.buildCommand||"n/a"})]}),e.jsxs("div",{className:"col-span-2",children:["Start: ",e.jsx("code",{className:"text-xs text-gray-300",children:H.startCommand})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Build Configuration"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Build Command"}),e.jsx("input",{type:"text",value:Z,onChange:s=>_(s.target.value),placeholder:"npm install && npm run build",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Command"}),e.jsx("input",{type:"text",value:T,onChange:s=>J(s.target.value),placeholder:"npm start",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Target Devices"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[w.map(s=>{var f,j,A;return e.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg border border-slate-600 hover:border-cyan-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:U.includes(s.id),onChange:B=>{Q(O=>B.target.checked?[...O,s.id]:O.filter(ee=>ee!==s.id))},className:"text-cyan-400 focus:ring-cyan-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((f=s.specs)==null?void 0:f.cpuCount)||0," CPU, ",((A=(j=s.specs)==null?void 0:j.memory)==null?void 0:A.totalMb)||0,"MB"]})]})]},s.id)}),w.length===0&&e.jsx("div",{className:"col-span-full text-center py-8 text-gray-400",children:"No agents online. Please connect some devices first."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Environment Variables"}),e.jsx("button",{onClick:Ee,className:"px-3 py-1 text-sm border border-cyan-400 text-cyan-400 rounded-lg hover:bg-cyan-400 hover:text-slate-900",children:"Add Variable"})]}),e.jsxs("div",{className:"space-y-2",children:[Object.entries(q).map(([s,f])=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-gray-400"}),e.jsx("input",{type:"text",value:f,readOnly:!0,className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-gray-400"}),e.jsx("button",{onClick:()=>$e(s),className:"px-3 py-2 text-red-400 hover:text-red-300",children:"â"})]},s)),Object.keys(q).length===0&&e.jsx("p",{className:"text-gray-400 text-sm",children:"No environment variables added"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-600",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:me,disabled:!L||U.length===0,className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Deployment"})]})]})]})})}),e.jsx(Je,{open:de,initialEnv:(z==null?void 0:z.env)||{},onClose:()=>X(!1),onSave:De})]}):e.jsx(_e,{onAuthed:()=>{u(!0),$()}})}function se({label:a,value:n,color:l}){return e.jsxs("div",{className:"metric-card p-6 rounded-xl border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:a}),e.jsx("span",{className:"text-lg",children:"â"})]}),e.jsx("div",{className:`text-3xl font-bold ${l}`,children:n})]})}function ve(){const[a,n]=t.useState("user@example.com"),[l,i]=t.useState("password"),[d,x]=t.useState(""),N=le();async function k(){try{x("");const g=await P("/api/signup",{email:a,password:l});localStorage.setItem("token",g.token),N("/dashboard")}catch(g){x(g.message||"registration failed")}}return e.jsx("div",{className:"container",children:e.jsxs("div",{className:"card",style:{maxWidth:420,margin:"40px auto"},children:[e.jsx("h3",{style:{marginTop:0},children:"Create your DeployHub account"}),e.jsxs("div",{style:{display:"grid",gap:8},children:[e.jsx("input",{placeholder:"email",value:a,onChange:g=>n(g.target.value)}),e.jsx("input",{placeholder:"password",type:"password",value:l,onChange:g=>i(g.target.value)}),d&&e.jsx("div",{className:"muted",style:{color:"#ff9b9b"},children:d}),e.jsx("button",{className:"cta",onClick:k,children:"Sign up"}),e.jsxs("div",{className:"muted",children:["Already have an account? ",e.jsx(F,{to:"/",children:"Login"})]})]})]})})}function qe(){const[a,n]=t.useState([]),[l,i]=t.useState([]),[d,x]=t.useState(!1),[N,k]=t.useState("https://github.com/user/repo.git"),[g,u]=t.useState([]),b=t.useRef(null),p=!!localStorage.getItem("token");t.useEffect(()=>{const o=re(C,{transports:["websocket"],query:{kind:"dashboard"}});return b.current=o,o.on("dashboard:agents",D=>n(D)),o.on("dashboard:deployment-status",()=>h()),o.on("dashboard:deployment-log",()=>{}),h(),()=>{o.disconnect()}},[]);const m=t.useMemo(()=>a.filter(o=>o.status==="online"),[a]);async function h(){const o=await ie("/api/deployments");i(o.deployments)}async function S(){if(!N||g.length===0)return alert("Select one or more agents and provide a repo URL");try{await Promise.all(g.map(o=>P("/api/deploy",{agentId:o,repoUrl:N})))}catch(o){alert(o.message||"Failed to create deployment (are you logged in?)");return}x(!1),await h()}return p?e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx(F,{to:"/",className:"text-gray-300 hover:text-cyan-400",children:"Dashboard"}),e.jsx(F,{to:"/hardware",className:"text-gray-300 hover:text-cyan-400",children:"Hardware"}),e.jsx(F,{to:"/deployments",className:"text-gray-300 hover:text-cyan-400",children:"Deployments"}),e.jsxs("span",{className:"text-gray-400",children:["Server: ",C]})]})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Deploy on Your Hardware"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Transform your devices into a CI/CD platform."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>x(!0),className:"px-8 py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"New Deployment"}),e.jsx("a",{href:"#agents",className:"px-8 py-3 border border-cyan-400 text-cyan-400 font-semibold rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-all",children:"Connected Hardware"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsx(te,{label:"Active Deployments",value:String(l.filter(o=>o.status==="running"||o.status==="succeeded").length),color:"text-cyan-400"}),e.jsx(te,{label:"Connected Devices",value:String(m.length),color:"text-amber-400"}),e.jsx(te,{label:"Success Rate",value:`${Math.round(l.filter(o=>o.status==="succeeded").length/Math.max(1,l.length)*100)}%`,color:"text-green-400"}),e.jsx(te,{label:"Total Builds",value:String(l.length),color:"text-amber-400"})]})]})}),e.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Active Deployments"}),e.jsx("button",{onClick:h,className:"text-cyan-400 hover:text-cyan-300",children:"Refresh"})]}),e.jsxs("div",{className:"space-y-4",children:[l.map(o=>e.jsxs("div",{className:"deployment-card glass-effect rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:o.name}),e.jsx("div",{className:"text-sm text-gray-400",children:o.repoUrl})]}),e.jsx("div",{className:`badge ${o.status==="succeeded"||o.status==="running"?"online":"offline"}`,children:o.status})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(F,{to:"/deployments",className:"px-2 py-1 border rounded hover:border-cyan-400",children:"View Logs"}),e.jsx("button",{onClick:()=>P(`/api/deployments/${o.id}/action`,{action:"start"}).then(h),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Start"}),e.jsx("button",{onClick:()=>P(`/api/deployments/${o.id}/action`,{action:"stop"}).then(h),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Stop"}),e.jsx("button",{onClick:()=>P(`/api/deployments/${o.id}/action`,{action:"restart"}).then(h),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Restart"}),e.jsx("button",{onClick:()=>ge(`/api/deployments/${o.id}`).then(h),className:"px-2 py-1 border rounded hover:border-red-400 text-red-300",children:"Delete"})]})]},o.id)),l.length===0&&e.jsx("div",{className:"text-gray-400",children:"No deployments yet."})]})]}),e.jsx("div",{className:"space-y-8",id:"agents",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hardware Status"}),e.jsxs("div",{className:"space-y-3",children:[a.map(o=>{var D,c,v;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((D=o.specs)==null?void 0:D.cpuCount)||0," CPU, ",((v=(c=o.specs)==null?void 0:c.memory)==null?void 0:v.totalMb)||0,"MB"]})]}),e.jsx("span",{className:`badge ${o.status}`,children:o.status})]},o.id)}),a.length===0&&e.jsx("div",{className:"text-gray-400",children:"No agents connected."})]})]})})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Deployment"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:"â"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub Repository"}),e.jsx("input",{value:N,onChange:o=>k(o.target.value),placeholder:"https://github.com/user/repo.git",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Devices"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[m.map(o=>e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded border border-slate-600 hover:border-cyan-400",children:[e.jsx("input",{type:"checkbox",checked:g.includes(o.id),onChange:D=>{u(c=>D.target.checked?[...c,o.id]:c.filter(v=>v!==o.id))}}),e.jsx("span",{children:o.name})]},o.id)),m.length===0&&e.jsx("div",{className:"text-gray-400",children:"No agents online"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:S,className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"Create Deployment"})]})]})]})})})]}):e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center p-6",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-md w-full text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to DeployHub"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Please create an account or log in to access the dashboard."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(F,{to:"/register",className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"Create account"}),e.jsx(F,{to:"/",className:"px-6 py-2 border border-cyan-400 text-cyan-400 rounded-lg hover:bg-cyan-400 hover:text-slate-900",children:"Login"})]})]})})}function te({label:a,value:n,color:l}){return e.jsxs("div",{className:"metric-card p-6 rounded-xl border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:a}),e.jsx("span",{className:"text-lg",children:"â"})]}),e.jsx("div",{className:`text-3xl font-bold ${l}`,children:n})]})}function Ke(){const[a,n]=t.useState([]),[l,i]=t.useState("connecting"),[d,x]=t.useState(!1),N=t.useRef(null);t.useEffect(()=>{console.log("Hardware: Connecting to server:",C),(async()=>{try{const p=await ie("/api/agents");console.log("Hardware: Fetched agents via API:",p.agents),n(p.agents||[])}catch(p){console.error("Hardware: Failed to fetch agents via API:",p)}})();const b=re(C,{transports:["websocket"],query:{kind:"dashboard"}});return N.current=b,b.on("connect",()=>{console.log("Hardware: Socket connected"),i("connected")}),b.on("disconnect",()=>{console.log("Hardware: Socket disconnected"),i("disconnected")}),b.on("dashboard:agents",p=>{console.log("Hardware: Received agents via socket:",p),n(p)}),b.on("connect_error",p=>{console.error("Hardware: Connection error:",p),i("disconnected")}),()=>{b.disconnect()}},[]);const k=t.useMemo(()=>a.filter(u=>u.status==="online"),[a]),g=async()=>{x(!0);try{const b=a.some(m=>m.id.startsWith("demo-agent-"))?"remove":"add",p=await P("/api/demo-agents",{action:b});n(p.agents)}catch(u){console.error("Failed to toggle demo agents:",u)}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[e.jsxs("div",{children:["Server: ",C]}),e.jsxs("div",{className:`flex items-center space-x-1 ${l==="connected"?"text-green-400":l==="connecting"?"text-yellow-400":"text-red-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${l==="connected"?"bg-green-400":l==="connecting"?"bg-yellow-400 animate-pulse":"bg-red-400"}`}),e.jsx("span",{children:l==="connected"?"Connected":l==="connecting"?"Connecting...":"Disconnected"})]})]})]})})}),e.jsxs("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Hardware Management"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Connect and monitor your personal devices."}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Updated: ",new Date().toLocaleString()]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[e.jsx("a",{href:`${C}/public/agents/install-windows.ps1`,className:"px-8 py-3 border border-amber-400 text-amber-400 font-semibold rounded-lg hover:bg-amber-400 hover:text-slate-900 transition-all",children:"Download Windows Agent"}),e.jsx("a",{href:`${C}/public/agents/install-linux.sh`,className:"px-8 py-3 border border-cyan-400 text-cyan-400 font-semibold rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-all",children:"Download Linux Agent"}),e.jsx("button",{onClick:g,disabled:d,className:"px-8 py-3 border border-purple-400 text-purple-400 font-semibold rounded-lg hover:bg-purple-400 hover:text-slate-900 transition-all disabled:opacity-50",children:d?"Loading...":a.some(u=>u.id.startsWith("demo-agent-"))?"Remove Demo Agents":"Add Demo Agents"})]}),a.length===0&&e.jsxs("div",{className:"text-center mb-12 p-8 glass-effect rounded-xl border border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"No devices connected yet"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"To see your devices here, you need to install and run the DeployHub agent on your machines."}),e.jsxs("div",{className:"space-y-4 text-left max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-cyan-400 text-slate-900 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Download the agent script"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Click the download buttons above for your operating system"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-cyan-400 text-slate-900 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Run the installation script"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Execute the downloaded script on your machine"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-cyan-400 text-slate-900 rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Your device will appear here"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Once connected, you can deploy applications to it"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Want to see how it works? Try the demo:"}),e.jsx("button",{onClick:g,disabled:d,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all disabled:opacity-50",children:d?"Loading...":"Show Demo Devices"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Connected Devices"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.jsx("span",{className:"text-green-400",children:"â"}),e.jsxs("span",{children:[k.length," Online"]}),e.jsx("span",{className:"text-red-400 ml-4",children:"â"}),e.jsxs("span",{children:[a.length-k.length," Offline"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.map(u=>{var b,p,m,h,S;return e.jsxs("div",{className:"device-card glass-effect rounded-xl p-6 border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold text-lg",children:u.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${u.status==="online"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:u.status.toUpperCase()})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((b=u.specs)==null?void 0:b.platform)||""," ",((p=u.specs)==null?void 0:p.arch)||""]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((m=u.specs)==null?void 0:m.cpuCount)||0," CPU, ",((S=(h=u.specs)==null?void 0:h.memory)==null?void 0:S.totalMb)||0,"MB"]})]},u.id)}),a.length===0&&e.jsx("div",{className:"text-gray-400",children:"No devices connected yet."})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Overview"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{label:"Total Devices",value:String(a.length)}),e.jsx(ae,{label:"Online Devices",value:String(k.length)}),e.jsx(ae,{label:"Total CPU Cores",value:String(a.reduce((u,b)=>{var p;return u+(((p=b.specs)==null?void 0:p.cpuCount)||0)},0))}),e.jsx(ae,{label:"Total Memory (MB)",value:String(a.reduce((u,b)=>{var p,m;return u+(((m=(p=b.specs)==null?void 0:p.memory)==null?void 0:m.totalMb)||0)},0))})]})]})})]})]})]})]})}function ae({label:a,value:n}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:a}),e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:n})]})}function Ye(){const[a,n]=t.useState([]),[l,i]=t.useState([]),[d,x]=t.useState(!1),[N,k]=t.useState(!1),[g,u]=t.useState(null),[b,p]=t.useState(0),[m,h]=t.useState(""),[S,o]=t.useState("main"),[D,c]=t.useState("Auto-detect"),[v,y]=t.useState(""),[I,E]=t.useState(""),[L,Y]=t.useState(""),[G,V]=t.useState([{key:"",value:""}]),Z=t.useRef(null);t.useEffect(()=>{const r=re(C,{transports:["websocket"],query:{kind:"dashboard"}});return Z.current=r,r.on("dashboard:agents",w=>n(w)),r.on("dashboard:deployment-status",()=>T()),r.on("dashboard:deployment-log",({deploymentId:w,line:R})=>{i(M=>M.map($=>$.id===w?{...$,logs:[...$.logs,R]}:$))}),T(),()=>{r.disconnect()}},[]);const _=t.useMemo(()=>a.filter(r=>r.status==="online"),[a]);async function T(){const r=await ie("/api/deployments");i(r.deployments)}async function J(){if(!m||!L)return alert("Fill in all required fields");try{const r=G.reduce((w,{key:R,value:M})=>R?{...w,[R]:M}:w,{});await P("/api/deploy",{agentId:L,repoUrl:m}),x(!1),await T()}catch(r){alert(r.message||"Failed to create deployment")}}async function U(r,w){await P(`/api/deployments/${r}/action`,{action:w}),await T()}async function Q(r){await ge(`/api/deployments/${r}`),await T()}function q(){if(!m)return alert("Enter repository URL");m.includes("react")||m.includes("next")?(c("React"),y("npm run build"),E("npm start")):m.includes("node")||m.includes("express")?(c("Node.js"),y("npm install"),E("npm start")):(m.includes("python")||m.includes("flask"))&&(c("Python"),y("pip install -r requirements.txt"),E("python app.py")),p(1)}function K(){V(r=>[...r,{key:"",value:""}])}function H(r){V(w=>w.filter((R,M)=>M!==r))}function W(r,w,R){V(M=>M.map(($,me)=>me===r?{...$,[w]:R}:$))}function de(r){u(r),k(!0)}const X=l.filter(r=>r.status==="running"||r.status==="succeeded").length,z=l.filter(r=>r.status==="building").length,xe=l.filter(r=>r.status==="error").length;return e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Server: ",C]})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Deployment Management"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Create, monitor, and manage your application deployments"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsx("button",{onClick:()=>x(!0),className:"px-8 py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"New Deployment"}),e.jsx("button",{className:"px-8 py-3 border border-amber-400 text-amber-400 font-semibold rounded-lg hover:bg-amber-400 hover:text-slate-900 transition-all",children:"Bulk Actions"})]})]})}),e.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"All Deployments"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("select",{className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",children:[e.jsx("option",{children:"All Status"}),e.jsx("option",{children:"Running"}),e.jsx("option",{children:"Building"}),e.jsx("option",{children:"Stopped"}),e.jsx("option",{children:"Error"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[l.map(r=>{var w;return e.jsxs("div",{className:"deployment-card glass-effect rounded-xl p-6 border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${r.status==="running"?"bg-green-400":r.status==="building"?"bg-amber-400":"bg-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:r.name}),e.jsx("p",{className:"text-sm text-gray-400",children:r.repoUrl})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="succeeded"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r.status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>de(r),className:"p-2 text-gray-400 hover:text-cyan-400 transition-colors",title:"View Logs",children:"ð"}),e.jsx("button",{onClick:()=>U(r.id,"restart"),className:"p-2 text-gray-400 hover:text-amber-400 transition-colors",title:"Restart",children:"ð"}),e.jsx("button",{onClick:()=>U(r.id,"stop"),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Stop",children:"â¹ï¸"}),e.jsx("button",{onClick:()=>Q(r.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Delete",children:"ðï¸"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Agent"}),e.jsx("p",{className:"font-medium",children:((w=a.find(R=>R.id===r.agentId))==null?void 0:w.name)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Status"}),e.jsx("p",{className:"font-medium",children:r.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Logs"}),e.jsxs("p",{className:"font-medium",children:[r.logs.length," lines"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Health"}),e.jsx("p",{className:"font-medium text-green-400",children:"98%"})]})]})]},r.id)}),l.length===0&&e.jsx("div",{className:"text-gray-400",children:"No deployments yet"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Deployment Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{label:"Total Deployments",value:String(l.length)}),e.jsx(ne,{label:"Running",value:String(X)}),e.jsx(ne,{label:"Building",value:String(z)}),e.jsx(ne,{label:"Failed",value:String(xe)})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"AI Insights"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-slate-800 rounded-lg border border-amber-400/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Consider implementing health checks for better monitoring."})]})}),e.jsx("div",{className:"p-3 bg-slate-800 rounded-lg border border-cyan-400/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Build times can be optimized with proper caching strategies."})]})})]})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Deployment"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:"â"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${b>=0?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${b>=0?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"1"}),"Connect Repository"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub Repository URL"}),e.jsx("input",{value:m,onChange:r=>h(r.target.value),placeholder:"https://github.com/username/repository",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Branch"}),e.jsx("input",{value:S,onChange:r=>o(r.target.value),placeholder:"main",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsx("button",{onClick:q,className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Analyze Repository"})]})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${b>=1?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${b>=1?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"2"}),"Configure Build"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Type"}),e.jsxs("select",{value:D,onChange:r=>c(r.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",children:[e.jsx("option",{children:"Auto-detect"}),e.jsx("option",{children:"Node.js"}),e.jsx("option",{children:"Python"}),e.jsx("option",{children:"React"}),e.jsx("option",{children:"Vue.js"}),e.jsx("option",{children:"Static Site"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Build Command"}),e.jsx("input",{value:v,onChange:r=>y(r.target.value),placeholder:"npm run build",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Command"}),e.jsx("input",{value:I,onChange:r=>E(r.target.value),placeholder:"npm start",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]})]})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${b>=2?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${b>=2?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"3"}),"Select Target Device"]}),e.jsx("div",{className:"space-y-3",children:_.map(r=>e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-slate-800 rounded-lg border border-slate-600 cursor-pointer hover:border-cyan-400 transition-colors",children:[e.jsx("input",{type:"radio",name:"device",value:r.id,checked:L===r.id,onChange:w=>Y(w.target.value),className:"text-cyan-400 focus:ring-cyan-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:r.name}),e.jsx("span",{className:"text-green-400 text-sm",children:"â"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Online and ready"})]})]},r.id))})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${b>=3?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${b>=3?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"4"}),"Environment Variables"]}),e.jsxs("div",{className:"space-y-3",children:[G.map((r,w)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{value:r.key,onChange:R=>W(w,"key",R.target.value),placeholder:"KEY",className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"}),e.jsx("input",{value:r.value,onChange:R=>W(w,"value",R.target.value),placeholder:"value",className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"}),e.jsx("button",{onClick:()=>H(w),className:"px-3 py-2 text-red-400 hover:text-red-300 transition-colors",children:"â"})]},w)),e.jsx("button",{onClick:K,className:"px-4 py-2 border border-cyan-400 text-cyan-400 rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-colors",children:"Add Variable"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-600",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:J,className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"Create Deployment"})]})]})]})})}),N&&g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold",children:["Build Logs - ",g.name]}),e.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-white",children:"â"})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg mb-4 h-96 overflow-y-auto font-mono text-sm",children:[g.logs.map((r,w)=>e.jsx("div",{className:"text-green-400 mb-1",children:r},w)),g.logs.length===0&&e.jsx("div",{className:"text-gray-400",children:"No logs available"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors",children:"Auto-scroll: ON"}),e.jsx("button",{className:"px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Clear Logs"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Build Status:"}),e.jsx("span",{className:"text-amber-400 text-sm",children:g.status})]})]})]})})})]})}function ne({label:a,value:n}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:a}),e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:n})]})}function Ze(){const{linkId:a}=Ie(),[n,l]=t.useState(null),[i,d]=t.useState([]),[x,N]=t.useState(!0),[k,g]=t.useState(""),[u,b]=t.useState(!1),[p,m]=t.useState(""),[h,S]=t.useState([]);t.useEffect(()=>{if(!a){g("Invalid deployment link"),N(!1);return}o()},[a]);async function o(){try{const c=await fetch(`${C}/api/deploy/${a}`),v=await c.json();if(!c.ok)throw new Error(v.error||"Failed to load deployment configuration");l(v.config),d(v.agents)}catch(c){g(c.message)}finally{N(!1)}}async function D(){if(!p){g("Please select an agent");return}try{b(!0),g("");const c=await P("/api/deploy",{agentId:p,repoUrl:n.repoUrl,branch:n.branch,buildCommand:n.buildCommand,startCommand:n.startCommand,env:n.env});S(v=>[...v,`[${new Date().toISOString()}] Deployment started successfully!`]),S(v=>[...v,`[${new Date().toISOString()}] Deployment ID: ${c.deployment.id}`]),setTimeout(()=>{S(v=>[...v,`[${new Date().toISOString()}] Deployment completed!`]),b(!1)},3e3)}catch(c){g(c.message||"Deployment failed"),b(!1)}}return x?e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading deployment configuration..."})]})}):k?e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"text-red-400 text-6xl mb-4",children:"â ï¸"}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Deployment Link Error"}),e.jsx("p",{className:"text-gray-300 mb-6",children:k}),e.jsx("button",{onClick:()=>window.location.href="/",className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Go to DeployHub"})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Quick Deploy"})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Quick Deploy"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Deploy this repository with one click"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Repository Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Repository"}),e.jsx("p",{className:"text-white font-mono text-sm break-all",children:n.repoUrl})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Branch"}),e.jsx("p",{className:"text-white",children:n.branch})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Build Command"}),e.jsx("p",{className:"text-white font-mono text-sm",children:n.buildCommand})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Start Command"}),e.jsx("p",{className:"text-white font-mono text-sm",children:n.startCommand})]}),Object.keys(n.env||{}).length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Environment Variables"}),e.jsx("div",{className:"space-y-1",children:Object.entries(n.env).map(([c,v])=>e.jsxs("div",{className:"text-white font-mono text-sm",children:[c,"=",String(v)]},c))})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Deploy Now"}),k&&e.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:k})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Agent"}),e.jsxs("select",{value:p,onChange:c=>m(c.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",disabled:u,children:[e.jsx("option",{value:"",children:"Choose an agent..."}),i.filter(c=>c.status==="online").map(c=>{var v,y,I;return e.jsxs("option",{value:c.id,children:[c.name," (",((v=c.specs)==null?void 0:v.cpuCount)||0," CPU, ",((I=(y=c.specs)==null?void 0:y.memory)==null?void 0:I.totalMb)||0,"MB)"]},c.id)})]})]}),i.filter(c=>c.status==="online").length===0&&e.jsx("div",{className:"p-3 bg-amber-500/20 border border-amber-500/30 rounded-lg",children:e.jsx("p",{className:"text-amber-400 text-sm",children:"No agents are currently online. Please wait for an agent to come online or contact the administrator."})}),e.jsx("button",{onClick:D,disabled:!p||u||i.filter(c=>c.status==="online").length===0,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Deploying...":"Deploy Repository"})]}),h.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Deployment Logs"}),e.jsx("div",{className:"bg-slate-800 p-4 rounded-lg h-48 overflow-y-auto",children:e.jsx("pre",{className:"text-green-400 text-sm font-mono",children:h.join(`
`)})})]})]})]})]})})]})}const Qe=Oe([{path:"/",element:e.jsx(je,{})},{path:"/landing",element:e.jsx(Ve,{})},{path:"/about",element:e.jsx(We,{})},{path:"/signup",element:e.jsx(ve,{})},{path:"/dashboard",element:e.jsx(je,{})},{path:"/register",element:e.jsx(ve,{})},{path:"/fancy",element:e.jsx(qe,{})},{path:"/hardware",element:e.jsx(Ke,{})},{path:"/deployments",element:e.jsx(Ye,{})},{path:"/deploy/:linkId",element:e.jsx(Ze,{})}]),Xe=document.getElementById("root");ke(Xe).render(e.jsx(Pe.StrictMode,{children:e.jsx(He,{router:Qe})}));
