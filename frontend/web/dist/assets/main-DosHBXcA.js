import{r as l,b as ue,c as pe}from"./vendor-97cK7ltV.js";import{u as J,L as B,a as ge,c as fe,R as be}from"./router-CbtUVPpw.js";import{l as Y}from"./socket-TjCxX7sJ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))x(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&x(u)}).observe(document,{childList:!0,subtree:!0});function c(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function x(r){if(r.ep)return;r.ep=!0;const d=c(r);fetch(r.href,d)}})();var de={exports:{}},Z={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=l,ye=Symbol.for("react.element"),ve=Symbol.for("react.fragment"),Ne=Object.prototype.hasOwnProperty,we=je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Se={key:!0,ref:!0,__self:!0,__source:!0};function xe(n,s,c){var x,r={},d=null,u=null;c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),s.ref!==void 0&&(u=s.ref);for(x in s)Ne.call(s,x)&&!Se.hasOwnProperty(x)&&(r[x]=s[x]);if(n&&n.defaultProps)for(x in s=n.defaultProps,s)r[x]===void 0&&(r[x]=s[x]);return{$$typeof:ye,type:n,key:d,ref:u,props:r,_owner:we.current}}Z.Fragment=ve;Z.jsx=xe;Z.jsxs=xe;de.exports=Z;var e=de.exports,me,ie=ue;me=ie.createRoot,ie.hydrateRoot;const ke=()=>{const n=J(),[s,c]=l.useState(!1);l.useEffect(()=>{c(!0)},[]);const x=()=>{n("/signup")},r=()=>{n("/about")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 text-white overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),e.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"})]}),e.jsx("nav",{className:"relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"DH"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsxs("div",{className:"hidden md:flex space-x-8",children:[e.jsx("a",{href:"#features",className:"hover:text-blue-400 transition-colors",children:"Features"}),e.jsx("a",{href:"#pricing",className:"hover:text-blue-400 transition-colors",children:"Pricing"}),e.jsx("a",{href:"#about",className:"hover:text-blue-400 transition-colors",children:"About"})]})]})}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:e.jsx("div",{className:`transition-all duration-1000 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent leading-tight",children:"DeployHub"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"The ultimate CI/CD platform for modern developers. Deploy, monitor, and scale your applications with ease."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsx("button",{onClick:x,className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Get Started Free"}),e.jsx("button",{onClick:r,className:"px-8 py-4 border-2 border-white/30 hover:border-white/60 text-white font-semibold rounded-full transition-all duration-300 hover:bg-white/10",children:"Learn More"})]})]})})}),e.jsxs("div",{id:"features",className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Powerful Features"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Everything you need to build, deploy, and manage your applications"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Lightning Fast Deploys"}),e.jsx("p",{className:"text-gray-300",children:"Deploy your applications in seconds with our optimized infrastructure and smart caching."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Zero Downtime"}),e.jsx("p",{className:"text-gray-300",children:"Deploy with confidence knowing your users won't experience any service interruption."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 hover:bg-white/20 transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-teal-500 rounded-2xl flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Real-time Monitoring"}),e.jsx("p",{className:"text-gray-300",children:"Monitor your applications with detailed metrics, logs, and alerts in real-time."})]})]})]}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-20",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-lg rounded-3xl p-12 text-center",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Ready to Deploy?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of developers who trust DeployHub for their CI/CD needs. Start your free trial today."}),e.jsx("button",{onClick:x,className:"px-12 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold text-xl rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Start Free Trial"})]})}),e.jsx("footer",{className:"relative z-10 border-t border-white/10 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Â© 2024 DeployHub. All rights reserved."}),e.jsxs("div",{className:"flex justify-center space-x-6",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms"}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Support"})]})]})})]})},Ce=()=>{const n=J(),s=()=>{n("/signup")},c=()=>{n("/")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 text-white",children:[e.jsx("nav",{className:"p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"DH"})}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"DeployHub"})]}),e.jsx("button",{onClick:s,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-full transition-all duration-300 transform hover:scale-105",children:"Get Started"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-20",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"About DeployHub"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed",children:"Revolutionizing the way developers deploy and manage their applications"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 pb-20",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-gray-300 mb-6 leading-relaxed",children:"We believe that deploying applications should be simple, fast, and reliable. DeployHub was born from the frustration of complex CI/CD pipelines and the need for a developer-friendly deployment platform."}),e.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Our mission is to empower developers with tools that just work, allowing them to focus on what they do best - building amazing applications."})]}),e.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:"10K+"}),e.jsx("div",{className:"text-gray-300",children:"Active Users"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:"50M+"}),e.jsx("div",{className:"text-gray-300",children:"Deployments"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-pink-400 mb-2",children:"99.9%"}),e.jsx("div",{className:"text-gray-300",children:"Uptime"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-400 mb-2",children:"24/7"}),e.jsx("div",{className:"text-gray-300",children:"Support"})]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-8 order-2 lg:order-1",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 text-blue-400",children:"Why Choose DeployHub?"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Zero-configuration deployment"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Real-time monitoring and alerts"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Automatic scaling and load balancing"})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-gray-300",children:"Enterprise-grade security"})]})]})]}),e.jsxs("div",{className:"order-1 lg:order-2",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Built for Developers"}),e.jsx("p",{className:"text-lg text-gray-300 mb-6 leading-relaxed",children:"DeployHub is designed by developers, for developers. We understand the pain points of modern deployment workflows and have built a platform that eliminates complexity while providing enterprise-grade features."}),e.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"From solo developers to large teams, DeployHub scales with your needs and grows with your ambitions."})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 backdrop-blur-lg rounded-3xl p-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join the future of application deployment. Start your free trial today and experience the difference."}),e.jsx("button",{onClick:s,className:"px-12 py-4 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold text-xl rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Start Free Trial"})]})})]})]})},ae={},D=(ae==null?void 0:ae.VITE_SERVER_ORIGIN)||(location.hostname==="localhost"||location.hostname==="127.0.0.1"?"http://localhost:4000":`${location.protocol}//${location.hostname}:4000`);function Q(){const n=localStorage.getItem("token");return n?{Authorization:`Bearer ${n}`}:{}}async function re(n){const s=await fetch(`${D}${n}`,{headers:{"Content-Type":"application/json",...Q()}});if(!s.ok)throw new Error(await s.text());return s.json()}async function I(n,s){const c=await fetch(`${D}${n}`,{method:"POST",headers:{"Content-Type":"application/json",...Q()},body:s?JSON.stringify(s):void 0});if(!c.ok)throw new Error(await c.text());return c.json()}async function De(n,s){const c=await fetch(`${D}${n}`,{method:"PUT",headers:{"Content-Type":"application/json",...Q()},body:s?JSON.stringify(s):void 0});if(!c.ok)throw new Error(await c.text());return c.json()}async function oe(n){const s=await fetch(`${D}${n}`,{method:"DELETE",headers:{"Content-Type":"application/json",...Q()}});if(!s.ok)throw new Error(await s.text());return s.json()}const ne={};function Re({onAuthed:n}){const[s,c]=l.useState(""),[x,r]=l.useState(""),[d,u]=l.useState("signup"),[b,h]=l.useState(""),[y,k]=l.useState(!1),[N,m]=l.useState(0);l.useEffect(()=>{const a=localStorage.getItem("token");if(a){const j=(ne==null?void 0:ne.VITE_SERVER_ORIGIN)||(location.hostname==="localhost"||location.hostname==="127.0.0.1"?"http://localhost:4000":`${location.protocol}//${location.hostname}:4000`);fetch(`${j}/api/deployments`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}).then($=>{$.ok?n():(localStorage.removeItem("token"),localStorage.removeItem("user"))}).catch(()=>{localStorage.removeItem("token"),localStorage.removeItem("user")})}},[n]),l.useEffect(()=>{if(x.length===0){m(0);return}let a=0;x.length>=6&&(a+=1),x.length>=8&&(a+=1),/[A-Z]/.test(x)&&(a+=1),/[a-z]/.test(x)&&(a+=1),/[0-9]/.test(x)&&(a+=1),/[^A-Za-z0-9]/.test(x)&&(a+=1),m(a)},[x]);async function p(){try{if(h(""),k(!0),!s||!x){h("Please fill in all fields");return}if(d==="signup"&&x.length<6){h("Password must be at least 6 characters long");return}const a=await I(d==="signup"?"/api/signup":"/api/login",{email:s,password:x});localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),n()}catch(a){h(a.message||"Authentication failed")}finally{k(!1)}}function v(a){a.key==="Enter"&&p()}const o=()=>N<=2?"text-red-400":N<=4?"text-yellow-400":"text-green-400",C=()=>N<=2?"Weak":N<=4?"Medium":"Strong";return e.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 border border-cyan-400/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-slate-900 font-bold text-2xl",children:"DH"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"DeployHub"}),e.jsx("p",{className:"text-gray-400",children:"Deploy applications on your own hardware"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:s,onChange:a=>c(a.target.value),onKeyPress:v,className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none text-white placeholder-gray-400",disabled:y})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Enter your password",value:x,onChange:a=>r(a.target.value),onKeyPress:v,className:"w-full px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none text-white placeholder-gray-400",disabled:y}),d==="signup"&&x&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Password strength:"}),e.jsx("span",{className:o(),children:C()})]}),e.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${N<=2?"bg-red-400":N<=4?"bg-yellow-400":"bg-green-400"}`,style:{width:`${N/6*100}%`}})})]})]}),b&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:b})}),e.jsx("button",{onClick:p,disabled:y||!s||!x,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Please wait...":d==="signup"?"Create Account":"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>u(d==="signup"?"login":"signup"),className:"text-cyan-400 hover:text-cyan-300 text-sm transition-colors",disabled:y,children:d==="signup"?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})})}function $e({open:n,initialEnv:s,onClose:c,onSave:x}){const[r,d]=l.useState([]),[u,b]=l.useState(!1);if(l.useEffect(()=>{const m=Object.entries(s||{}).map(([p,v])=>({key:p,value:v}));d(m.length?m:[{key:"",value:""}])},[s,n]),!n)return null;function h(m,p,v){d(o=>o.map((C,a)=>a===m?{...C,[p]:v}:C))}function y(){d(m=>[...m,{key:"",value:""}])}function k(m){d(p=>p.filter((v,o)=>o!==m))}async function N(){b(!0);const m={};r.forEach(({key:p,value:v})=>{p&&(m[p]=v)}),await x(m),b(!1),c()}return e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{className:"card",style:{width:520,maxWidth:"90vw",background:"#0f1430"},children:[e.jsx("h3",{style:{marginTop:0},children:"Environment Variables"}),e.jsxs("div",{style:{display:"grid",gap:8},children:[r.map((m,p)=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:8},children:[e.jsx("input",{placeholder:"KEY",value:m.key,onChange:v=>h(p,"key",v.target.value)}),e.jsx("input",{placeholder:"value",value:m.value,onChange:v=>h(p,"value",v.target.value)}),e.jsx("button",{onClick:()=>k(p),children:"Remove"})]},p)),e.jsx("div",{children:e.jsx("button",{onClick:y,children:"Add variable"})}),e.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[e.jsx("button",{onClick:c,children:"Cancel"}),e.jsx("button",{className:"cta",onClick:N,disabled:u,children:u?"Saving...":"Save"})]})]})]})})}function Ee(){J();const[n,s]=l.useState([]),[c,x]=l.useState(""),[r,d]=l.useState(null),[u,b]=l.useState([]),h=l.useRef(null),[y,k]=l.useState([]),[N,m]=l.useState(!!localStorage.getItem("token")),[p,v]=l.useState(!1),[o,C]=l.useState(null),[a,j]=l.useState(null),[$,A]=l.useState(!1),[O,w]=l.useState(""),[F,V]=l.useState(null),[P,L]=l.useState("connecting");l.useEffect(()=>{const i=localStorage.getItem("user");i&&V(JSON.parse(i)),(async()=>{try{(await fetch(`${D}/api/status`)).ok?(L("connected"),w("")):(L("disconnected"),w("Server is not responding properly"))}catch{L("disconnected"),w("Cannot connect to server. Please check if the server is running.")}})();const g=Y(D,{transports:["websocket","polling"],query:{kind:"dashboard"},reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3});return h.current=g,g.on("connect",()=>{L("connected"),w("")}),g.on("disconnect",()=>{L("disconnected")}),g.on("connect_error",R=>{L("disconnected"),w("WebSocket connection failed. Please check if the server is running.")}),g.on("dashboard:agents",R=>{s(R),w("")}),g.on("dashboard:deployment-log",({deploymentId:R,line:t})=>{b(f=>r===R?[...f,t]:f)}),g.on("dashboard:deployment-status",({deploymentId:R,status:t})=>{r===R&&b(f=>[...f,`[${new Date().toISOString()}] [dashboard] Status: ${t}`]),N&&H()}),()=>{g.disconnect()}},[r,N]);async function X(i){if(!c){w("Please enter a GitHub repository URL");return}if(!/^https?:\/\/github\.com\/[^\/]+\/[^\/]+(\.git)?$/.test(c)){w("Please enter a valid GitHub repository URL (e.g., https://github.com/username/repo)");return}try{A(!0),w("");const g=await I("/api/deploy",{agentId:i,repoUrl:c});d(g.deployment.id),b(R=>[...R,`[${new Date().toISOString()}] [dashboard] Deployment ${g.deployment.id} started...`]),await H()}catch(g){w(g.message||"Failed to start deployment")}finally{A(!1)}}const M=l.useMemo(()=>n.filter(i=>i.status==="online"),[n]);async function H(){if(N)try{const i=await re("/api/deployments");k(i.deployments)}catch(i){i.message.includes("unauthorized")||i.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),m(!1),w("Session expired. Please log in again.")):w("Failed to load deployments")}}async function U(i,S){try{A(!0),await I(`/api/deployments/${i}/action`,{action:S}),await H()}catch(g){g.message.includes("unauthorized")||g.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),m(!1),w("Session expired. Please log in again.")):w(`Failed to ${S} deployment: ${g.message}`)}finally{A(!1)}}async function ee(i){try{A(!0),await oe(`/api/deployments/${i}`),r===i&&d(null),await H()}catch(S){S.message.includes("unauthorized")||S.message.includes("Invalid token")?(localStorage.removeItem("token"),localStorage.removeItem("user"),m(!1),w("Session expired. Please log in again.")):w(`Failed to delete deployment: ${S.message}`)}finally{A(!1)}}function se(i){C(i),v(!0)}async function te(i){o&&(await De(`/api/deployments/${o.id}/env`,{env:i}),await H())}async function le(){if(!c){alert("Enter GitHub repo URL");return}try{const i=await I("/api/ai/suggest",{repoUrl:c});j(i.suggestion)}catch(i){j({error:i.message||"Failed to fetch suggestion"})}}function G(i){const S=i.join(`
`).toLowerCase(),g=[];return S.includes("eaddrinuse")&&g.push("Port in use: try changing port or stop previous process."),(S.includes("command not found")||S.includes("npm: not found"))&&g.push("Missing runtime: ensure Node.js/npm installed on agent."),S.includes("permission denied")&&g.push("Permission issue: check file permissions or run without sudo-sensitive steps."),S.includes("fatal: could not read from remote repository")&&g.push("Git auth required: use public repo or provide read access."),g.length===0&&g.push("No obvious errors detected."),g}return l.useEffect(()=>{localStorage.getItem("token")&&fetch(`${D}/api/status`).then(S=>{S.ok||(localStorage.removeItem("token"),localStorage.removeItem("user"),m(!1))}).catch(()=>{})},[]),N?e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${P==="connected"?"bg-green-400":P==="connecting"?"bg-yellow-400":"bg-red-400"}`}),e.jsx("span",{className:"text-sm text-gray-400",children:P==="connected"?"Connected":P==="connecting"?"Connecting...":"Disconnected"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Server: ",D]}),F&&e.jsxs("div",{className:"text-sm text-gray-400",children:["Welcome, ",F.email]}),e.jsx("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),m(!1),w("")},className:"px-3 py-1 text-sm border border-gray-600 rounded hover:border-gray-400",children:"Logout"}),e.jsx("button",{onClick:()=>{localStorage.clear(),m(!1),w(""),window.location.reload()},className:"px-3 py-1 text-sm border border-red-600 text-red-400 rounded hover:border-red-400",title:"Clear all data and restart",children:"Clear All"})]})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"DeployHub Dashboard"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Deploy applications on your own hardware"})]}),O&&e.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-red-400",children:O}),e.jsx("button",{onClick:()=>w(""),className:"text-red-400 hover:text-red-300",children:"â"})]})}),$&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 flex items-center space-x-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),e.jsx("span",{className:"text-white",children:"Processing..."})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsx(W,{label:"Active Deployments",value:String(y.filter(i=>i.status==="running"||i.status==="succeeded").length),color:"text-cyan-400"}),e.jsx(W,{label:"Connected Devices",value:String(M.length),color:"text-amber-400"}),e.jsx(W,{label:"Success Rate",value:`${Math.round(y.filter(i=>i.status==="succeeded").length/Math.max(1,y.length)*100)}%`,color:"text-green-400"}),e.jsx(W,{label:"Total Builds",value:String(y.length),color:"text-amber-400"})]})]})}),e.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-2xl font-bold",children:"Agents & Deployments"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connected Agents"}),e.jsxs("div",{className:"space-y-3",children:[n.map(i=>{var S,g,R;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((S=i.specs)==null?void 0:S.cpuCount)||0," CPU, ",((R=(g=i.specs)==null?void 0:g.memory)==null?void 0:R.totalMb)||0,"MB"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${i.status==="online"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:i.status}),e.jsx("button",{onClick:()=>X(i.id),disabled:i.status!=="online"||$||!c,className:"px-3 py-1 bg-cyan-500 text-white rounded text-sm disabled:opacity-50 hover:bg-cyan-600 transition-colors",children:$?"Deploying...":"Deploy"})]})]},i.id)}),n.length===0&&e.jsx("div",{className:"text-gray-400",children:"No agents connected"})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Deployments"}),e.jsxs("div",{className:"space-y-3",children:[y.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsx("div",{className:"text-sm text-gray-400",children:i.repoUrl})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${i.status==="succeeded"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:i.status}),e.jsx("button",{onClick:()=>U(i.id,"start"),className:"px-2 py-1 text-xs border rounded",children:"Start"}),e.jsx("button",{onClick:()=>U(i.id,"stop"),className:"px-2 py-1 text-xs border rounded",children:"Stop"}),e.jsx("button",{onClick:()=>U(i.id,"restart"),className:"px-2 py-1 text-xs border rounded",children:"Restart"}),e.jsx("button",{onClick:()=>se(i),className:"px-2 py-1 text-xs border rounded",children:"Env"}),e.jsx("button",{onClick:()=>ee(i.id),className:"px-2 py-1 text-xs border rounded text-red-400",children:"Delete"})]})]},i.id)),y.length===0&&e.jsx("div",{className:"text-gray-400",children:"No deployments yet"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"New Deployment"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{placeholder:"https://github.com/user/repo.git",value:c,onChange:i=>x(i.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"}),e.jsx("button",{onClick:le,className:"w-full py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30",children:"AI Suggest"}),a&&e.jsxs("div",{className:"p-3 bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"AI Suggestion"}),"error"in a?e.jsx("div",{className:"text-red-400 text-sm",children:a.error}):e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:["Runtime: ",e.jsx("b",{children:a.runtime})]}),e.jsxs("div",{children:["Port: ",e.jsx("b",{children:a.port})]}),e.jsxs("div",{children:["Build: ",e.jsx("code",{className:"text-xs",children:a.build||"n/a"})]}),e.jsxs("div",{children:["Start: ",e.jsx("code",{className:"text-xs",children:a.start})]})]})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Logs"}),e.jsx("pre",{className:"bg-slate-800 p-3 rounded-lg text-sm h-48 overflow-auto text-green-400",children:u.join(`
`)}),e.jsxs("div",{className:"mt-3 p-3 bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"AI Hints"}),e.jsx("ul",{className:"text-sm space-y-1",children:G(u).map((i,S)=>e.jsx("li",{children:i},S))})]})]})]})]})}),e.jsx($e,{open:p,initialEnv:(o==null?void 0:o.env)||{},onClose:()=>v(!1),onSave:te})]}):e.jsx(Re,{onAuthed:()=>{m(!0),H()}})}function W({label:n,value:s,color:c}){return e.jsxs("div",{className:"metric-card p-6 rounded-xl border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:n}),e.jsx("span",{className:"text-lg",children:"â"})]}),e.jsx("div",{className:`text-3xl font-bold ${c}`,children:s})]})}function ce(){const[n,s]=l.useState("user@example.com"),[c,x]=l.useState("password"),[r,d]=l.useState(""),u=J();async function b(){try{d("");const h=await I("/api/signup",{email:n,password:c});localStorage.setItem("token",h.token),u("/dashboard")}catch(h){d(h.message||"registration failed")}}return e.jsx("div",{className:"container",children:e.jsxs("div",{className:"card",style:{maxWidth:420,margin:"40px auto"},children:[e.jsx("h3",{style:{marginTop:0},children:"Create your DeployHub account"}),e.jsxs("div",{style:{display:"grid",gap:8},children:[e.jsx("input",{placeholder:"email",value:n,onChange:h=>s(h.target.value)}),e.jsx("input",{placeholder:"password",type:"password",value:c,onChange:h=>x(h.target.value)}),r&&e.jsx("div",{className:"muted",style:{color:"#ff9b9b"},children:r}),e.jsx("button",{className:"cta",onClick:b,children:"Sign up"}),e.jsxs("div",{className:"muted",children:["Already have an account? ",e.jsx(B,{to:"/",children:"Login"})]})]})]})})}function Ie(){const[n,s]=l.useState([]),[c,x]=l.useState([]),[r,d]=l.useState(!1),[u,b]=l.useState("https://github.com/user/repo.git"),[h,y]=l.useState([]),k=l.useRef(null),N=!!localStorage.getItem("token");l.useEffect(()=>{const o=Y(D,{transports:["websocket"],query:{kind:"dashboard"}});return k.current=o,o.on("dashboard:agents",C=>s(C)),o.on("dashboard:deployment-status",()=>p()),o.on("dashboard:deployment-log",()=>{}),p(),()=>{o.disconnect()}},[]);const m=l.useMemo(()=>n.filter(o=>o.status==="online"),[n]);async function p(){const o=await re("/api/deployments");x(o.deployments)}async function v(){if(!u||h.length===0)return alert("Select one or more agents and provide a repo URL");try{await Promise.all(h.map(o=>I("/api/deploy",{agentId:o,repoUrl:u})))}catch(o){alert(o.message||"Failed to create deployment (are you logged in?)");return}d(!1),await p()}return N?e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx(B,{to:"/",className:"text-gray-300 hover:text-cyan-400",children:"Dashboard"}),e.jsx(B,{to:"/hardware",className:"text-gray-300 hover:text-cyan-400",children:"Hardware"}),e.jsx(B,{to:"/deployments",className:"text-gray-300 hover:text-cyan-400",children:"Deployments"}),e.jsxs("span",{className:"text-gray-400",children:["Server: ",D]})]})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Deploy on Your Hardware"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Transform your devices into a CI/CD platform."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>d(!0),className:"px-8 py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"New Deployment"}),e.jsx("a",{href:"#agents",className:"px-8 py-3 border border-cyan-400 text-cyan-400 font-semibold rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-all",children:"Connected Hardware"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsx(_,{label:"Active Deployments",value:String(c.filter(o=>o.status==="running"||o.status==="succeeded").length),color:"text-cyan-400"}),e.jsx(_,{label:"Connected Devices",value:String(m.length),color:"text-amber-400"}),e.jsx(_,{label:"Success Rate",value:`${Math.round(c.filter(o=>o.status==="succeeded").length/Math.max(1,c.length)*100)}%`,color:"text-green-400"}),e.jsx(_,{label:"Total Builds",value:String(c.length),color:"text-amber-400"})]})]})}),e.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Active Deployments"}),e.jsx("button",{onClick:p,className:"text-cyan-400 hover:text-cyan-300",children:"Refresh"})]}),e.jsxs("div",{className:"space-y-4",children:[c.map(o=>e.jsxs("div",{className:"deployment-card glass-effect rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:o.name}),e.jsx("div",{className:"text-sm text-gray-400",children:o.repoUrl})]}),e.jsx("div",{className:`badge ${o.status==="succeeded"||o.status==="running"?"online":"offline"}`,children:o.status})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(B,{to:"/deployments",className:"px-2 py-1 border rounded hover:border-cyan-400",children:"View Logs"}),e.jsx("button",{onClick:()=>I(`/api/deployments/${o.id}/action`,{action:"start"}).then(p),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Start"}),e.jsx("button",{onClick:()=>I(`/api/deployments/${o.id}/action`,{action:"stop"}).then(p),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Stop"}),e.jsx("button",{onClick:()=>I(`/api/deployments/${o.id}/action`,{action:"restart"}).then(p),className:"px-2 py-1 border rounded hover:border-gray-400",children:"Restart"}),e.jsx("button",{onClick:()=>oe(`/api/deployments/${o.id}`).then(p),className:"px-2 py-1 border rounded hover:border-red-400 text-red-300",children:"Delete"})]})]},o.id)),c.length===0&&e.jsx("div",{className:"text-gray-400",children:"No deployments yet."})]})]}),e.jsx("div",{className:"space-y-8",id:"agents",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hardware Status"}),e.jsxs("div",{className:"space-y-3",children:[n.map(o=>{var C,a,j;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.name}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((C=o.specs)==null?void 0:C.cpuCount)||0," CPU, ",((j=(a=o.specs)==null?void 0:a.memory)==null?void 0:j.totalMb)||0,"MB"]})]}),e.jsx("span",{className:`badge ${o.status}`,children:o.status})]},o.id)}),n.length===0&&e.jsx("div",{className:"text-gray-400",children:"No agents connected."})]})]})})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-2xl w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Deployment"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:"â"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub Repository"}),e.jsx("input",{value:u,onChange:o=>b(o.target.value),placeholder:"https://github.com/user/repo.git",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Devices"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[m.map(o=>e.jsxs("label",{className:"flex items-center gap-2 p-2 rounded border border-slate-600 hover:border-cyan-400",children:[e.jsx("input",{type:"checkbox",checked:h.includes(o.id),onChange:C=>{y(a=>C.target.checked?[...a,o.id]:a.filter(j=>j!==o.id))}}),e.jsx("span",{children:o.name})]},o.id)),m.length===0&&e.jsx("div",{className:"text-gray-400",children:"No agents online"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 text-gray-400 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:v,className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"Create Deployment"})]})]})]})})})]}):e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center p-6",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-md w-full text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Welcome to DeployHub"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Please create an account or log in to access the dashboard."}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(B,{to:"/register",className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700",children:"Create account"}),e.jsx(B,{to:"/",className:"px-6 py-2 border border-cyan-400 text-cyan-400 rounded-lg hover:bg-cyan-400 hover:text-slate-900",children:"Login"})]})]})})}function _({label:n,value:s,color:c}){return e.jsxs("div",{className:"metric-card p-6 rounded-xl border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:n}),e.jsx("span",{className:"text-lg",children:"â"})]}),e.jsx("div",{className:`text-3xl font-bold ${c}`,children:s})]})}function Ae(){const[n,s]=l.useState([]),c=l.useRef(null);l.useEffect(()=>{const r=Y(D,{transports:["websocket"],query:{kind:"dashboard"}});return c.current=r,r.on("dashboard:agents",d=>s(d)),()=>{r.disconnect()}},[]);const x=l.useMemo(()=>n.filter(r=>r.status==="online"),[n]);return e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Server: ",D]})]})})}),e.jsxs("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Hardware Management"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Connect and monitor your personal devices."})]}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsx("a",{href:`${D}/public/agents/install-windows.ps1`,className:"px-8 py-3 border border-amber-400 text-amber-400 font-semibold rounded-lg hover:bg-amber-400 hover:text-slate-900 transition-all",children:"Download Windows Agent"}),e.jsx("a",{href:`${D}/public/agents/install-linux.sh`,className:"px-8 py-3 border border-cyan-400 text-cyan-400 font-semibold rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-all",children:"Download Linux Agent"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Connected Devices"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[e.jsx("span",{className:"text-green-400",children:"â"}),e.jsxs("span",{children:[x.length," Online"]}),e.jsx("span",{className:"text-red-400 ml-4",children:"â"}),e.jsxs("span",{children:[n.length-x.length," Offline"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.map(r=>{var d,u,b,h,y;return e.jsxs("div",{className:"device-card glass-effect rounded-xl p-6 border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold text-lg",children:r.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r.status==="online"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r.status.toUpperCase()})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((d=r.specs)==null?void 0:d.platform)||""," ",((u=r.specs)==null?void 0:u.arch)||""]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[((b=r.specs)==null?void 0:b.cpuCount)||0," CPU, ",((y=(h=r.specs)==null?void 0:h.memory)==null?void 0:y.totalMb)||0,"MB"]})]},r.id)}),n.length===0&&e.jsx("div",{className:"text-gray-400",children:"No devices connected yet."})]})]}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Overview"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(q,{label:"Total Devices",value:String(n.length)}),e.jsx(q,{label:"Online Devices",value:String(x.length)}),e.jsx(q,{label:"Total CPU Cores",value:String(n.reduce((r,d)=>{var u;return r+(((u=d.specs)==null?void 0:u.cpuCount)||0)},0))}),e.jsx(q,{label:"Total Memory (MB)",value:String(n.reduce((r,d)=>{var u,b;return r+(((b=(u=d.specs)==null?void 0:u.memory)==null?void 0:b.totalMb)||0)},0))})]})]})})]})]})]})]})}function q({label:n,value:s}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:n}),e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:s})]})}function Pe(){const[n,s]=l.useState([]),[c,x]=l.useState([]),[r,d]=l.useState(!1),[u,b]=l.useState(!1),[h,y]=l.useState(null),[k,N]=l.useState(0),[m,p]=l.useState(""),[v,o]=l.useState("main"),[C,a]=l.useState("Auto-detect"),[j,$]=l.useState(""),[A,O]=l.useState(""),[w,F]=l.useState(""),[V,P]=l.useState([{key:"",value:""}]),L=l.useRef(null);l.useEffect(()=>{const t=Y(D,{transports:["websocket"],query:{kind:"dashboard"}});return L.current=t,t.on("dashboard:agents",f=>s(f)),t.on("dashboard:deployment-status",()=>M()),t.on("dashboard:deployment-log",({deploymentId:f,line:E})=>{x(z=>z.map(T=>T.id===f?{...T,logs:[...T.logs,E]}:T))}),M(),()=>{t.disconnect()}},[]);const X=l.useMemo(()=>n.filter(t=>t.status==="online"),[n]);async function M(){const t=await re("/api/deployments");x(t.deployments)}async function H(){if(!m||!w)return alert("Fill in all required fields");try{const t=V.reduce((f,{key:E,value:z})=>E?{...f,[E]:z}:f,{});await I("/api/deploy",{agentId:w,repoUrl:m}),d(!1),await M()}catch(t){alert(t.message||"Failed to create deployment")}}async function U(t,f){await I(`/api/deployments/${t}/action`,{action:f}),await M()}async function ee(t){await oe(`/api/deployments/${t}`),await M()}function se(){if(!m)return alert("Enter repository URL");m.includes("react")||m.includes("next")?(a("React"),$("npm run build"),O("npm start")):m.includes("node")||m.includes("express")?(a("Node.js"),$("npm install"),O("npm start")):(m.includes("python")||m.includes("flask"))&&(a("Python"),$("pip install -r requirements.txt"),O("python app.py")),N(1)}function te(){P(t=>[...t,{key:"",value:""}])}function le(t){P(f=>f.filter((E,z)=>z!==t))}function G(t,f,E){P(z=>z.map((T,he)=>he===t?{...T,[f]:E}:T))}function i(t){y(t),b(!0)}const S=c.filter(t=>t.status==="running"||t.status==="succeeded").length,g=c.filter(t=>t.status==="building").length,R=c.filter(t=>t.status==="error").length;return e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Server: ",D]})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Deployment Management"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Create, monitor, and manage your application deployments"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsx("button",{onClick:()=>d(!0),className:"px-8 py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"New Deployment"}),e.jsx("button",{className:"px-8 py-3 border border-amber-400 text-amber-400 font-semibold rounded-lg hover:bg-amber-400 hover:text-slate-900 transition-all",children:"Bulk Actions"})]})]})}),e.jsx("section",{className:"px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"All Deployments"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("select",{className:"px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",children:[e.jsx("option",{children:"All Status"}),e.jsx("option",{children:"Running"}),e.jsx("option",{children:"Building"}),e.jsx("option",{children:"Stopped"}),e.jsx("option",{children:"Error"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[c.map(t=>{var f;return e.jsxs("div",{className:"deployment-card glass-effect rounded-xl p-6 border border-cyan-400/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t.status==="running"?"bg-green-400":t.status==="building"?"bg-amber-400":"bg-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.name}),e.jsx("p",{className:"text-sm text-gray-400",children:t.repoUrl})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.status==="succeeded"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:t.status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>i(t),className:"p-2 text-gray-400 hover:text-cyan-400 transition-colors",title:"View Logs",children:"ð"}),e.jsx("button",{onClick:()=>U(t.id,"restart"),className:"p-2 text-gray-400 hover:text-amber-400 transition-colors",title:"Restart",children:"ð"}),e.jsx("button",{onClick:()=>U(t.id,"stop"),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Stop",children:"â¹ï¸"}),e.jsx("button",{onClick:()=>ee(t.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors",title:"Delete",children:"ðï¸"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Agent"}),e.jsx("p",{className:"font-medium",children:((f=n.find(E=>E.id===t.agentId))==null?void 0:f.name)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Status"}),e.jsx("p",{className:"font-medium",children:t.status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Logs"}),e.jsxs("p",{className:"font-medium",children:[t.logs.length," lines"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Health"}),e.jsx("p",{className:"font-medium text-green-400",children:"98%"})]})]})]},t.id)}),c.length===0&&e.jsx("div",{className:"text-gray-400",children:"No deployments yet"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Deployment Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(K,{label:"Total Deployments",value:String(c.length)}),e.jsx(K,{label:"Running",value:String(S)}),e.jsx(K,{label:"Building",value:String(g)}),e.jsx(K,{label:"Failed",value:String(R)})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"AI Insights"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-slate-800 rounded-lg border border-amber-400/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Consider implementing health checks for better monitoring."})]})}),e.jsx("div",{className:"p-3 bg-slate-800 rounded-lg border border-cyan-400/20",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Build times can be optimized with proper caching strategies."})]})})]})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"New Deployment"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:"â"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${k>=0?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${k>=0?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"1"}),"Connect Repository"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub Repository URL"}),e.jsx("input",{value:m,onChange:t=>p(t.target.value),placeholder:"https://github.com/username/repository",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Branch"}),e.jsx("input",{value:v,onChange:t=>o(t.target.value),placeholder:"main",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsx("button",{onClick:se,className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Analyze Repository"})]})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${k>=1?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${k>=1?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"2"}),"Configure Build"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Type"}),e.jsxs("select",{value:C,onChange:t=>a(t.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",children:[e.jsx("option",{children:"Auto-detect"}),e.jsx("option",{children:"Node.js"}),e.jsx("option",{children:"Python"}),e.jsx("option",{children:"React"}),e.jsx("option",{children:"Vue.js"}),e.jsx("option",{children:"Static Site"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Build Command"}),e.jsx("input",{value:j,onChange:t=>$(t.target.value),placeholder:"npm run build",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Command"}),e.jsx("input",{value:A,onChange:t=>O(t.target.value),placeholder:"npm start",className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"})]})]})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${k>=2?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${k>=2?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"3"}),"Select Target Device"]}),e.jsx("div",{className:"space-y-3",children:X.map(t=>e.jsxs("label",{className:"flex items-center space-x-3 p-4 bg-slate-800 rounded-lg border border-slate-600 cursor-pointer hover:border-cyan-400 transition-colors",children:[e.jsx("input",{type:"radio",name:"device",value:t.id,checked:w===t.id,onChange:f=>F(f.target.value),className:"text-cyan-400 focus:ring-cyan-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:t.name}),e.jsx("span",{className:"text-green-400 text-sm",children:"â"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Online and ready"})]})]},t.id))})]}),e.jsxs("div",{className:`deployment-step p-6 rounded-lg border ${k>=3?"border-cyan-400/20":"border-slate-600"}`,children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm mr-3 ${k>=3?"bg-cyan-500 text-white":"bg-slate-600 text-white"}`,children:"4"}),"Environment Variables"]}),e.jsxs("div",{className:"space-y-3",children:[V.map((t,f)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{value:t.key,onChange:E=>G(f,"key",E.target.value),placeholder:"KEY",className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"}),e.jsx("input",{value:t.value,onChange:E=>G(f,"value",E.target.value),placeholder:"value",className:"flex-1 px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none"}),e.jsx("button",{onClick:()=>le(f),className:"px-3 py-2 text-red-400 hover:text-red-300 transition-colors",children:"â"})]},f)),e.jsx("button",{onClick:te,className:"px-4 py-2 border border-cyan-400 text-cyan-400 rounded-lg hover:bg-cyan-400 hover:text-slate-900 transition-colors",children:"Add Variable"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-slate-600",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:H,className:"px-6 py-2 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all",children:"Create Deployment"})]})]})]})})}),u&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:"glass-effect rounded-xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold",children:["Build Logs - ",h.name]}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white",children:"â"})]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg mb-4 h-96 overflow-y-auto font-mono text-sm",children:[h.logs.map((t,f)=>e.jsx("div",{className:"text-green-400 mb-1",children:t},f)),h.logs.length===0&&e.jsx("div",{className:"text-gray-400",children:"No logs available"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"px-4 py-2 bg-cyan-500/20 text-cyan-400 rounded-lg hover:bg-cyan-500/30 transition-colors",children:"Auto-scroll: ON"}),e.jsx("button",{className:"px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Clear Logs"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Build Status:"}),e.jsx("span",{className:"text-amber-400 text-sm",children:h.status})]})]})]})})})]})}function K({label:n,value:s}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:n}),e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:s})]})}function Le(){const{linkId:n}=ge(),[s,c]=l.useState(null),[x,r]=l.useState([]),[d,u]=l.useState(!0),[b,h]=l.useState(""),[y,k]=l.useState(!1),[N,m]=l.useState(""),[p,v]=l.useState([]);l.useEffect(()=>{if(!n){h("Invalid deployment link"),u(!1);return}o()},[n]);async function o(){try{const a=await fetch(`${D}/api/deploy/${n}`),j=await a.json();if(!a.ok)throw new Error(j.error||"Failed to load deployment configuration");c(j.config),r(j.agents)}catch(a){h(a.message)}finally{u(!1)}}async function C(){if(!N){h("Please select an agent");return}try{k(!0),h("");const a=await I("/api/deploy",{agentId:N,repoUrl:s.repoUrl,branch:s.branch,buildCommand:s.buildCommand,startCommand:s.startCommand,env:s.env});v(j=>[...j,`[${new Date().toISOString()}] Deployment started successfully!`]),v(j=>[...j,`[${new Date().toISOString()}] Deployment ID: ${a.deployment.id}`]),setTimeout(()=>{v(j=>[...j,`[${new Date().toISOString()}] Deployment completed!`]),k(!1)},3e3)}catch(a){h(a.message||"Deployment failed"),k(!1)}}return d?e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading deployment configuration..."})]})}):b?e.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"glass-effect rounded-xl p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"text-red-400 text-6xl mb-4",children:"â ï¸"}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Deployment Link Error"}),e.jsx("p",{className:"text-gray-300 mb-6",children:b}),e.jsx("button",{onClick:()=>window.location.href="/",className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Go to DeployHub"})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-100",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 glass-effect",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-amber-400 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-900 font-bold text-sm",children:"DH"})}),e.jsx("span",{className:"text-xl font-bold",children:"DeployHub"})]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Quick Deploy"})]})})}),e.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Quick Deploy"}),e.jsx("p",{className:"text-xl text-gray-300",children:"Deploy this repository with one click"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Repository Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Repository"}),e.jsx("p",{className:"text-white font-mono text-sm break-all",children:s.repoUrl})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Branch"}),e.jsx("p",{className:"text-white",children:s.branch})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Build Command"}),e.jsx("p",{className:"text-white font-mono text-sm",children:s.buildCommand})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Start Command"}),e.jsx("p",{className:"text-white font-mono text-sm",children:s.startCommand})]}),Object.keys(s.env||{}).length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Environment Variables"}),e.jsx("div",{className:"space-y-1",children:Object.entries(s.env).map(([a,j])=>e.jsxs("div",{className:"text-white font-mono text-sm",children:[a,"=",String(j)]},a))})]})]})]}),e.jsxs("div",{className:"glass-effect rounded-xl p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Deploy Now"}),b&&e.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-red-400 text-sm",children:b})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Agent"}),e.jsxs("select",{value:N,onChange:a=>m(a.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:border-cyan-400 focus:outline-none",disabled:y,children:[e.jsx("option",{value:"",children:"Choose an agent..."}),x.filter(a=>a.status==="online").map(a=>{var j,$,A;return e.jsxs("option",{value:a.id,children:[a.name," (",((j=a.specs)==null?void 0:j.cpuCount)||0," CPU, ",((A=($=a.specs)==null?void 0:$.memory)==null?void 0:A.totalMb)||0,"MB)"]},a.id)})]})]}),x.filter(a=>a.status==="online").length===0&&e.jsx("div",{className:"p-3 bg-amber-500/20 border border-amber-500/30 rounded-lg",children:e.jsx("p",{className:"text-amber-400 text-sm",children:"No agents are currently online. Please wait for an agent to come online or contact the administrator."})}),e.jsx("button",{onClick:C,disabled:!N||y||x.filter(a=>a.status==="online").length===0,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white font-semibold rounded-lg hover:from-cyan-600 hover:to-cyan-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Deploying...":"Deploy Repository"})]}),p.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Deployment Logs"}),e.jsx("div",{className:"bg-slate-800 p-4 rounded-lg h-48 overflow-y-auto",children:e.jsx("pre",{className:"text-green-400 text-sm font-mono",children:p.join(`
`)})})]})]})]})]})})]})}const He=fe([{path:"/",element:e.jsx(ke,{})},{path:"/about",element:e.jsx(Ce,{})},{path:"/signup",element:e.jsx(ce,{})},{path:"/dashboard",element:e.jsx(Ee,{})},{path:"/register",element:e.jsx(ce,{})},{path:"/fancy",element:e.jsx(Ie,{})},{path:"/hardware",element:e.jsx(Ae,{})},{path:"/deployments",element:e.jsx(Pe,{})},{path:"/deploy/:linkId",element:e.jsx(Le,{})}]),Oe=document.getElementById("root");me(Oe).render(e.jsx(pe.StrictMode,{children:e.jsx(be,{router:He})}));
